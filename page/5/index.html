<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Dawn&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Dawn&#39;s Blog">
<meta property="og:url" content="https://sun-dawn.github.io/page/5/index.html">
<meta property="og:site_name" content="Dawn&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Sun-Dawn">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Dawn's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dawn&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://Sun-Dawn.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-【NOIP2013模拟】七夕祭（贪心+前缀和）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/04/%E3%80%90NOIP2013%E6%A8%A1%E6%8B%9F%E3%80%91%E4%B8%83%E5%A4%95%E7%A5%AD%EF%BC%88%E8%B4%AA%E5%BF%83+%E5%89%8D%E7%BC%80%E5%92%8C%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2021-03-04T12:41:20.000Z" itemprop="datePublished">2021-03-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>►<a class="article-category-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%8D%E7%BC%80%E5%92%8C%E5%B7%AE%E5%88%86/">前缀和差分</a>►<a class="article-category-link" href="/categories/ACM/%E8%B4%AA%E5%BF%83/">贪心</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/04/%E3%80%90NOIP2013%E6%A8%A1%E6%8B%9F%E3%80%91%E4%B8%83%E5%A4%95%E7%A5%AD%EF%BC%88%E8%B4%AA%E5%BF%83+%E5%89%8D%E7%BC%80%E5%92%8C%EF%BC%89/">【NOIP2013模拟】七夕祭（贪心+前缀和）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://img-blog.csdnimg.cn/20210304202127695.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>吾王yyds！！！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>七夕节因牛郎织女的传说而被扣上了「情人节」的帽子。</p>
<p>于是 TYVJ 今年举办了一次线下七夕祭。</p>
<p>Vani 同学今年成功邀请到了 cl 同学陪他来共度七夕，于是他们决定去 TYVJ 七夕祭游玩。</p>
<p>TYVJ 七夕祭和 11 区的夏祭的形式很像。<br>矩形的祭典会场由 N 排 M 列共计 N×M个摊点组成。</p>
<p>虽然摊点种类繁多，不过 cl 只对其中的一部分摊点感兴趣，比如章鱼烧、苹果糖、棉花糖、射的屋……什么的。</p>
<p>Vani 预先联系了七夕祭的负责人 zhq，希望能够通过恰当地布置会场，使得各行中 cl 感兴趣的摊点数一样多，并且各列中 cl 感兴趣的摊点数也一样多。</p>
<p>不过 zhq 告诉 Vani，摊点已经随意布置完毕了，如果想满足 cl 的要求，唯一的调整方式就是交换两个相邻的摊点。</p>
<p>两个摊点相邻，当且仅当他们处在同一行或者同一列的相邻位置上。</p>
<p>由于 zhq 率领的 TYVJ 开发小组成功地扭曲了空间，每一行或每一列的第一个位置和最后一个位置也算作相邻。</p>
<p>现在 Vani 想知道他的两个要求最多能满足多少个。</p>
<p>在此前提下，至少需要交换多少次摊点。</p>
<p>&nbsp;</p>
<h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>第一行包含三个整数 N 和 M 和 T，T 表示 cl 对多少个摊点感兴趣。</p>
<p>接下来 T 行，每行两个整数 x,y，表示 cl 对处在第 x 行第 y 列的摊点感兴趣。</p>
<p>&nbsp;</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>首先输出一个字符串。</p>
<p>如果能满足 Vani 的全部两个要求，输出 both；</p>
<p>如果通过调整只能使得各行中 cl 感兴趣的摊点数一样多，输出 row；</p>
<p>如果只能使各列中 cl 感兴趣的摊点数一样多，输出 column；</p>
<p>如果均不能满足，输出 impossible。</p>
<p>如果输出的字符串不是 impossible， 接下来输出最小交换次数，与字符串之间用一个空格隔开。</p>
<p>&nbsp;</p>
<h3 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h3><p>1≤N,M≤100000,0≤T≤min(N∗M,100000),1≤x≤N,1≤y≤M</p>
<p>&nbsp;</p>
<h3 id="输入样例："><a href="#输入样例：" class="headerlink" title="输入样例："></a>输入样例：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例："><a href="#输出样例：" class="headerlink" title="输出样例："></a>输出样例：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">row <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>给出一个n×m的矩阵和t个点，以及t个点在矩阵中的坐标，然后问能否通过移动点使得每一行的点数都相同，每一列的点数都相同，如果两者可以同时做到就输出both和最少移动点的次数，如果前者能做到，后者做不到就输出row和最少移动点的次数，其他情况类似。<br>注意：移动点只能与相邻的位置移动，也就是上下左右四个方向，特别的每行或每列第一个可以与最后一个交换，也就是说这是个环形矩阵。</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>首先分析一下什么时候可以做到每一行的点数都相同，那么就需要t%n==0，因为如果不整除的话是无法做到都相同的。同时每一行的点数都应该是t/n，然后我们假设一个序列a=1,5,6.那么交换完之后应该是4,4,4.我们有很多办法可以达到4,4,4.例如5给1三个点数，然后6给5两个点数，这样总共交换了五个点数，显然不是最优解；如果我们让6给1两个点数，然后5给1一个点数，总共交换三个点数，即使最优解。仔细分析一下这个过程，无非就是贪心的一个过程，首先选定一个位置，然后通过给后面点数，或者从后面拿点数来先满足自己，例如我们首先选定第三个位置6，他多出来2个点数，那么就给后面的1两个点数，然后1变成三个点数，还差一个点数，就向5拿一个点数。<br>所以我们需要确定贪心的起始位置，因为位置不同得到的答案也不同，我们可以暴力每一个起点，然后找一个最小的交换次数，时间复杂度是O(n^2)显然很慢，然后我们可以先更新一下a的值，更新完之后就是 -3,1,2，然后再求一下前缀和-3,2,0。</p>
<blockquote>
<p>如果从第 k 个位置开始，那么第 i 堆和第 i+1 堆交换的纸牌数就是|sumi-sumk|（手动模拟即可明白）。总代价就是|sum1-sumk|+|sum2-sumk|+|sum3-sumk|+……+|sumn-sumk|。发现什么了？当sumk是sum1~sumn中位数的时候，上式有最小值！</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">100010</span>],b[<span class="number">100010</span>],sum1[<span class="number">100010</span>],sum2[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,x,y,r,s,t,tx=<span class="number">1</span>,ty=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;t; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        a[x]++;</span><br><span class="line">        b[y]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t%n)</span><br><span class="line">        tx=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(t%m)</span><br><span class="line">        ty=<span class="number">0</span>;</span><br><span class="line">    r=t/n;</span><br><span class="line">    s=t/m;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        a[i]-=r;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">        b[i]-=s;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        sum1[i]+=sum1[i<span class="number">-1</span>]+a[i];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">        sum2[i]+=sum2[i<span class="number">-1</span>]+b[i];</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(tx)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">sort</span>(sum1+<span class="number">1</span>,sum1+<span class="number">1</span>+n);</span><br><span class="line">        flag=sum1[(n+<span class="number">1</span>)/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">            ans+=(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>)<span class="built_in">abs</span>(sum1[i]-flag);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ty)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">sort</span>(sum2+<span class="number">1</span>,sum2+<span class="number">1</span>+m);</span><br><span class="line">        flag=sum2[(m+<span class="number">1</span>)/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">            ans+=(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>)<span class="built_in">abs</span>(sum2[i]-flag);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(tx&amp;&amp;ty)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;both %lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(tx&amp;&amp;!ty)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;row %lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(!tx&amp;&amp;ty)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;column %lld\n&quot;</span>,ans);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;impossible\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2021/03/04/%E3%80%90NOIP2013%E6%A8%A1%E6%8B%9F%E3%80%91%E4%B8%83%E5%A4%95%E7%A5%AD%EF%BC%88%E8%B4%AA%E5%BF%83+%E5%89%8D%E7%BC%80%E5%92%8C%EF%BC%89/" data-id="ckp2dd715008498tn5jjqdxtj" data-title="【NOIP2013模拟】七夕祭（贪心+前缀和）" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-模板" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/03/%E6%A8%A1%E6%9D%BF/" class="article-date">
  <time class="dt-published" datetime="2021-03-03T14:11:44.000Z" itemprop="datePublished">2021-03-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>►<a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/03/%E6%A8%A1%E6%9D%BF/">模板</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> a[],<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">merge_sort</span>(a,l,mid);</span><br><span class="line">    <span class="built_in">merge_sort</span>(a,mid+<span class="number">1</span>,r);</span><br><span class="line">    <span class="keyword">int</span> i=l,j=mid+<span class="number">1</span>,k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=r)</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;=a[j])</span><br><span class="line">            ans[k++]=a[i++];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ans[k++]=a[j++];</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)</span><br><span class="line">        ans[k++]=a[i++];</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=r)</span><br><span class="line">        ans[k++]=a[j++];</span><br><span class="line">    <span class="keyword">for</span>(i=l,j=<span class="number">0</span>; i&lt;=r; i++,j++)</span><br><span class="line">        a[i]=ans[j];</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,i,a[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">merge_sort</span>(a,<span class="number">0</span>,n<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,a[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>&nbsp;</p>
<hr>
<h1 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">qmi</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> k, <span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> res = <span class="number">1</span> % p;</span><br><span class="line">	<span class="keyword">while</span> (k)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (k &amp; <span class="number">1</span>)</span><br><span class="line">			res = res * a % p;</span><br><span class="line">		a = a * (<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>)a % p;</span><br><span class="line">		k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">	<span class="keyword">while</span> (n--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> a, k, p;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a, &amp;k, &amp;p);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">qmi</span>(a, k, p));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>用来求 a^k mod p的值</strong></p>
<p>&nbsp;</p>
<hr>
<h1 id="四种素数筛"><a href="#四种素数筛" class="headerlink" title="四种素数筛"></a>四种素数筛</h1><ul>
<li>普通筛法：<br>复杂度：O(n√n)<br>介绍：这个算法是最简单的素数判断算法+遍历素组，耗时长<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> factor[<span class="number">1000010</span>];</span><br><span class="line"><span class="keyword">int</span> prime[<span class="number">1000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,p=<span class="number">0</span>,flag;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">2</span>; j&lt;=<span class="built_in">sqrt</span>(i); j++)</span><br><span class="line">            <span class="keyword">if</span>(i%j==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">            prime[p++]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,i;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="built_in">get_prime</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;flag; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,prime[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
&nbsp;</li>
<li>埃式筛：<br>复杂度：O(nloglogn)<br>介绍：埃拉托斯特尼筛法，利用当前已经找到的素数，从后面的数中筛去当前素数的倍数，由预备知识一可知，当前素数已经是筛去数的质因子，如此下去能筛除所有之后的合数，是一种比较快的筛法<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> is_prime[<span class="number">1000010</span>];</span><br><span class="line"><span class="keyword">int</span> prime[<span class="number">1000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,p=<span class="number">0</span>,flag;</span><br><span class="line">    <span class="built_in">memset</span>(is_prime,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(is_prime));</span><br><span class="line">    is_prime[<span class="number">0</span>]=is_prime[<span class="number">1</span>]=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(is_prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            prime[p++]=i;</span><br><span class="line">            <span class="keyword">for</span>(j=i*<span class="number">2</span>; j&lt;=n; j+=i)</span><br><span class="line">                is_prime[j]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,i;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="built_in">get_prime</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;flag; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,prime[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
&nbsp;</li>
<li>欧拉筛：<br>复杂度：O（N）<br>介绍：这是一种很好的线性筛法，和埃氏筛法的区别是对于每一个要筛除的数，欧拉筛法只筛除一次，而埃氏筛法会重复筛除，比如8和16同时被2和4筛去，推荐使用欧拉筛法<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> factor[<span class="number">1000010</span>];<span class="comment">//记录最小素因子</span></span><br><span class="line"><span class="keyword">int</span> prime[<span class="number">1000010</span>];<span class="comment">//记录素数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,p=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(factor[i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            prime[p++]=i;</span><br><span class="line">            factor[i]=i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;p&amp;&amp;prime[j]*i&lt;=n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            factor[prime[j]*i]=prime[j];</span><br><span class="line">            <span class="keyword">if</span>(i%prime[j]==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,i;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="built_in">get_prime</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;flag; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,prime[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
&nbsp;</li>
<li>区间筛法：（暂时还不会）<br>介绍：对于于超大区间，如a&lt;b&lt;=10^12 ,b-a&lt;=10^6,这种情况下，数组是开不到这么大的，所以要用偏移来筛选，具体是先打一个2-√b的小表,然后用此表来筛除a到b的素数</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> is_prime[<span class="number">1000010</span>];</span><br><span class="line"><span class="keyword">bool</span> prime[<span class="number">1000010</span>];</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_prime</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> a,<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> i,j,p=<span class="number">0</span>,flag;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i*i&lt;b; i++)</span><br><span class="line">        prime[i]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;b-a; i++)</span><br><span class="line">        is_prime[i]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i*i&lt;b; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">2</span>*i; j*j&lt;b; j+=i)</span><br><span class="line">                prime[j]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="built_in">max</span>((<span class="keyword">long</span> <span class="keyword">long</span>)<span class="number">2</span>,(a+i<span class="number">-1</span>)/i)*i; j&lt;b; j+=i)</span><br><span class="line">                is_prime[j-a]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> a,b,i;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;a,&amp;b);</span><br><span class="line">    <span class="built_in">get_prime</span>(a,b);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;b-a; i++)</span><br><span class="line">        <span class="keyword">if</span>(is_prime[i])</span><br><span class="line">            sum++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2021/03/03/%E6%A8%A1%E6%9D%BF/" data-id="ckp2dd71i008p98tn1wku44e0" data-title="模板" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-J - Torn To Pieces" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/03/J%20-%20Torn%20To%20Pieces/" class="article-date">
  <time class="dt-published" datetime="2021-03-03T13:06:34.000Z" itemprop="datePublished">2021-03-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/">搜索</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/DFS/">DFS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/03/J%20-%20Torn%20To%20Pieces/">J - Torn To Pieces</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/425090#problem/J">题目链接</a></h3><p><img src="https://img-blog.csdnimg.cn/20210303205216699.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br><img src="https://img-blog.csdnimg.cn/20210303205259901.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>先给出一个数n，代表下面有n行，每行的第一个字符串能与后面的几个字符串之间形成通路，例如E D F G，代表E能够和D，F，G形成通路（无向）。然后第n+1行给出两个字符串，让求能否从第一个字符串经过若干通路走到第二个字符串。</p>
<p>&nbsp;</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>读完题第一感觉就是dfs搜索模板题，根据题目给出的信息建图，然后跑一个dfs看看能不能从起点跑到终点，能的话就输出路径，不能的话就输出“no route found”。但是这个题的难点在于所给元素是字符串而不是数字，这大大提高了题目难度。</p>
<p>解决办法：用map来给每一个字符串建立一个一一对应的编号，然后按照传统方法对编号进行建图和搜索。<br>其次还有一个难点是在一行中不知道给出几个字符串，所以我们需要读入整行字符串，然后按照空格进行划分，把划分后的字符串存起来。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">map&lt;string,<span class="keyword">int</span>&gt;mp;<span class="comment">//存储字符串所对应的编号</span></span><br><span class="line">map&lt;<span class="keyword">int</span>,string&gt;mm;<span class="comment">//存储编号对应的字符串</span></span><br><span class="line">vector&lt;string&gt;v;<span class="comment">//存储划分后的字符串</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">5000</span>];<span class="comment">//标记走过的节点编号</span></span><br><span class="line"><span class="keyword">int</span> first,last,flag,k=<span class="number">1</span>,e[<span class="number">5000</span>][<span class="number">5000</span>],que[<span class="number">5000</span>],tmp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> sum)</span><span class="comment">//dfs模板</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    que[sum]=u;</span><br><span class="line">    <span class="keyword">if</span>(u==last)</span><br><span class="line">    &#123;</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">        tmp=sum;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(book[i]==<span class="number">0</span>&amp;&amp;e[u][i]==<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            book[i]=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(i,sum+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,i;</span><br><span class="line">    string a,c,d,str;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        string b=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        v.<span class="built_in">clear</span>();<span class="comment">//清空容器</span></span><br><span class="line">        cin&gt;&gt;a;<span class="comment">//读入第一个字符串</span></span><br><span class="line">        v.<span class="built_in">push_back</span>(a);<span class="comment">//放进容器里</span></span><br><span class="line">        <span class="built_in">getchar</span>();</span><br><span class="line">        <span class="built_in">getline</span>(cin,str);<span class="comment">//然后读入一整行字符串</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;str.<span class="built_in">size</span>(); i++)<span class="comment">//遍历</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(str[i]==<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                v.<span class="built_in">push_back</span>(b);<span class="comment">//把分割好的字符串放进容器里</span></span><br><span class="line">                b=<span class="string">&quot;&quot;</span>;<span class="comment">//初始化b</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                b+=str[i];<span class="comment">//更新字符串</span></span><br><span class="line">        &#125;</span><br><span class="line">        v.<span class="built_in">push_back</span>(b);<span class="comment">//因为一行的最后可能没有空格，所以最后需要手动放进容器里</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;v.<span class="built_in">size</span>(); i++)</span><br><span class="line">            <span class="keyword">if</span>(mp[v[i]]==<span class="number">0</span>)<span class="comment">//如果容器中的字符串没有出现过</span></span><br><span class="line">            &#123;</span><br><span class="line">                mp[v[i]]=k;<span class="comment">//赋予这个字符串编号</span></span><br><span class="line">                mm[k]=v[i];<span class="comment">//编号与字符串对应</span></span><br><span class="line">                k++;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;v.<span class="built_in">size</span>(); i++)</span><br><span class="line">            e[mp[v[i]]][mp[v[<span class="number">0</span>]]]=e[mp[v[<span class="number">0</span>]]][mp[v[i]]]=<span class="number">1</span>;<span class="comment">//建图</span></span><br><span class="line">    &#125;</span><br><span class="line">    cin&gt;&gt;c&gt;&gt;d;<span class="comment">//输入起点与终点</span></span><br><span class="line">    <span class="keyword">if</span>(mp[c]==<span class="number">0</span>)<span class="comment">//这里我错了好多次，因为起点与终点不一定出现过，所以也需要对起点字符串与终点字符串进行检查</span></span><br><span class="line">    &#123;</span><br><span class="line">        mp[c]=k;</span><br><span class="line">        mm[k]=c;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(mp[d]==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        mp[d]=k;</span><br><span class="line">        mm[k]=d;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    first=mp[c];</span><br><span class="line">    last=mp[d];</span><br><span class="line">    book[first]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">dfs</span>(first,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(flag==<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;no route found\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;=tmp; i++)</span><br><span class="line">            cout&lt;&lt;mm[que[i]]&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2021/03/03/J%20-%20Torn%20To%20Pieces/" data-id="ckp2dd6xu001p98tn16eggvq3" data-title="J - Torn To Pieces" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SDUT 2021 Winter Individual Contest - M" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/22/SDUT%202021%20Winter%20Individual%20Contest%20-%20M/" class="article-date">
  <time class="dt-published" datetime="2021-02-22T11:28:57.000Z" itemprop="datePublished">2021-02-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%80%9D%E7%BB%B4/">思维</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/02/22/SDUT%202021%20Winter%20Individual%20Contest%20-%20M/">SDUT 2021 Winter Individual Contest - M</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="https://img-blog.csdnimg.cn/2021022219260754.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<p><img src="https://img-blog.csdnimg.cn/20210222192632592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>给一个n*m的矩阵，每行为1～m的一个排列，需要你找一个以第一列为起点的n*x的子矩阵，使之其中的元素在子矩阵外未出现。x应该尽可能小，最后输出子矩阵里不同元素的个数以及将子矩阵的元素从小到大输出。</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>由题意可知，每行为1～m的一个排列，如果一个元素只在子矩阵出现，那么代表这个元素必须在子矩阵里出现n次（即该元素都在子矩阵中出现，这样一来除了子矩阵外的矩阵就必然没有该元素了）。<br>所以我们可以从第一列开始向右遍历，统计未标记的元素个数，如果出现过的元素个数达到n个则从统计个数减去，每遍历一列就判断统计个数是否为0，如果为0代表符合条件，否则继续遍历。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; a[<span class="number">1000010</span>];</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; num;</span><br><span class="line"><span class="keyword">int</span> book[<span class="number">1000010</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, i, j, x, sum = <span class="number">0</span>, result;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">            a[i].<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (book[a[j][i]] == <span class="number">0</span>) &#123;</span><br><span class="line">                num.<span class="built_in">push_back</span>(a[j][i]);</span><br><span class="line">                sum++;</span><br><span class="line">            &#125;</span><br><span class="line">            book[a[j][i]]++;</span><br><span class="line">            <span class="keyword">if</span> (book[a[j][i]] == n) sum--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sum == <span class="number">0</span>) &#123;</span><br><span class="line">            result = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, result);</span><br><span class="line">    <span class="built_in">sort</span>(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; num.<span class="built_in">size</span>(); i++) <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, num[i]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2021/02/22/SDUT%202021%20Winter%20Individual%20Contest%20-%20M/" data-id="ckp2dd6zf003r98tn7j4ye927" data-title="SDUT 2021 Winter Individual Contest - M" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-面向对象开发名词及定义" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E5%90%8D%E8%AF%8D%E5%8F%8A%E5%AE%9A%E4%B9%89/" class="article-date">
  <time class="dt-published" datetime="2020-12-30T10:39:52.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91/">面向对象开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E5%90%8D%E8%AF%8D%E5%8F%8A%E5%AE%9A%E4%B9%89/">面向对象开发名词及定义</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li>Class 类</li>
</ul>
<p>定义：Describe the behavior and state of a class of objects.（描述一类对象的行为和状态）</p>
<hr>
<ul>
<li>Object 对象</li>
</ul>
<p>定义：An object has a unique identity,state,and behaviours.（一个对象具有唯一的身份，状态和行为）</p>
<hr>
<ul>
<li>类和对象的关系</li>
</ul>
<p>Classes are composed of objects, and classes can contain objects.（类由对象组成，并且类可以包含对象）</p>
<hr>
<ul>
<li>Construction method 构造方法</li>
</ul>
<p>定义：The construction method is a special method, it is a method with the same name as the class.（构造方法是一种特殊的方法，它是一个与类同名的方法）</p>
<hr>
<ul>
<li>Abstract method 抽象方法</li>
</ul>
<p>定义：Refers to a method without a method body（指没有方法体的方法）</p>
<hr>
<ul>
<li>Abstract class 抽象类</li>
</ul>
<p>定义：A class does not contain enough information to describe a specific object（一个类中没有包含足够的信息来描绘一个具体的对象）</p>
<hr>
<ul>
<li>Instance variable 实例变量</li>
</ul>
<p>定义：In the declaration of the class, attributes are represented by variables（在类的声明中，属性是用变量来表示的）</p>
<hr>
<ul>
<li>Member variables 成员变量</li>
</ul>
<p>定义：Member variables are defined in the class, outside the method body（成员变量是定义在类中，方法体之外的变量）</p>
<hr>
<ul>
<li>Local variable 局部变量</li>
</ul>
<p>定义：Variables defined in methods, construction methods, or statement blocks are called local variables.（在方法、构造方法或者语句块中定义的变量被称为局部变量）</p>
<hr>
<ul>
<li>Dynamic binding 动态绑定</li>
</ul>
<p>定义：The process of combining the function call and the code needed to respond to the call（函数调用与响应调用所需要的代码相结合的过程）</p>
<hr>
<ul>
<li>interface 接口</li>
</ul>
<p>定义：An abstract type is a collection of abstract methods（一个抽象类型，是抽象方法的集合）</p>
<hr>
<ul>
<li>Exception handling 异常处理</li>
</ul>
<p>定义：Deal with abnormal conditions in software or information systems（处理软件或信息系统中出现的异常状况）</p>
<hr>
<ul>
<li>Event-driven programming 事件驱动编程</li>
</ul>
<p>定义：Write corresponding event handlers for events that need to be handled（为需要处理的事件编写相应的事件处理程序）</p>
<hr>
<ul>
<li>initialize 初始化</li>
</ul>
<hr>
<ul>
<li>Overloading 重载</li>
</ul>
<p>定义：In a class, the method names are the same, but the parameters are different. The return type can be the same or different（在一个类里面，方法名字相同，而参数不同。返回类型可以相同也可以不同）</p>
<hr>
<ul>
<li>Overriding 覆盖（重写）</li>
</ul>
<p>定义：The subclass rewrites the implementation process of the parent class’s allowed access method（子类对父类的允许访问的方法的实现过程进行重新编写）</p>
<hr>
<ul>
<li>immutable 不可修改的</li>
</ul>
<hr>
<ul>
<li>polymorphism 多态</li>
</ul>
<p>定义：Polymorphism is the ability to have multiple different manifestations or forms of the same behavior.（多态是同一个行为具有多个不同表现形式或形态的能力。）</p>
<hr>
<ul>
<li>superclass 父类</li>
</ul>
<hr>
<ul>
<li>subclass 子类</li>
</ul>
<hr>
<ul>
<li>encapsulation 封装</li>
</ul>
<p>定义：Ways to package and hide the implementation details of abstract functional interfaces（将抽象性函式接口的实现细节部分包装、隐藏起来的方法）</p>
<hr>
<ul>
<li>inherit 继承</li>
</ul>
<p>定义：The subclass inherits the characteristics and behavior of the parent class, so that the subclass object (instance) has the instance domain and methods of the parent class, or the subclass inherits methods from the parent class, so that the subclass has the same behavior as the parent class.（子类继承父类的特征和行为，使得子类对象（实例）具有父类的实例域和方法，或子类从父类继承方法，使得子类具有父类相同的行为。）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E5%90%8D%E8%AF%8D%E5%8F%8A%E5%AE%9A%E4%B9%89/" data-id="ckp2dd71m008w98tn22dvfzyz" data-title="面向对象开发名词及定义" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-面向对象开发笔记" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/" class="article-date">
  <time class="dt-published" datetime="2020-12-30T10:39:52.000Z" itemprop="datePublished">2020-12-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91/">面向对象开发</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">面向对象开发笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="专业名词汉英对照："><a href="#专业名词汉英对照：" class="headerlink" title="专业名词汉英对照："></a>专业名词汉英对照：</h3><p><img src="https://img-blog.csdnimg.cn/20201228160416259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<p>&nbsp;</p>
<ul>
<li>对象:An object has a unique identidy,state,and behaviour</li>
<li>类: a class is a template that describes the behavior and state of a class of objects.</li>
<li>封装：a method of wrapping and hiding the implementation details of abstract function interface</li>
<li>继承：a subclass inherits the characteristics and behaviors of the parent class, so that the subclass object (instance) has the instance domain and methods of the parent class, or the subclass inherits methods from the parent class, so that the subclass has the same behavior as the parent class.</li>
<li>抽象类：If a class does not contain enough information to describe a specific object, such a class is an abstract class.</li>
<li>多态：Polymorphism is the ability of the same behavior to have multiple different forms or forms.</li>
<li>重写（覆盖）：a process in which a subclass rewrites the implementation of a method that a parent class allows access to</li>
<li>重载：Overloading is in a class with the same method name but different parameters.</li>
</ul>
<p>&nbsp;</p>
<h2 id="1-类和对象："><a href="#1-类和对象：" class="headerlink" title="1.类和对象："></a>1.类和对象：</h2><blockquote>
<p>类：类是一个模板，它描述一类对象的行为和状态。</p>
</blockquote>
<blockquote>
<p>对象：对象是类的一个实例，有状态和行为。</p>
</blockquote>
<p>一个类可以包含以下类型变量：</p>
<blockquote>
<p>局部变量：在方法、构造方法或者语句块中定义的变量被称为局部变量。变量声明和初始化都是在方法中，方法结束后，变量就会自动销毁。</p>
</blockquote>
<blockquote>
<p>成员变量：成员变量是定义在类中，方法体之外的变量。这种变量在创建对象的时候实例化。成员变量可以被类中方法、构造方法和特定类的语句块访问。</p>
</blockquote>
<blockquote>
<p>类变量：类变量也声明在类中，方法体之外，但必须声明为 static 类型。</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h3><blockquote>
<p>每个类都有构造方法。如果没有显式地为类定义构造方法，Java 编译器将会为该类提供一个默认构造方法。<br>在创建一个对象的时候，至少要调用一个构造方法。构造方法的名称必须与类同名，一个类可以有多个构造方法。</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h3><p>对象是根据类创建的。在Java中，使用关键字 new 来创建一个新的对象。创建对象需要以下三步：</p>
<blockquote>
<p>声明：声明一个对象，包括对象名称和对象类型。</p>
</blockquote>
<blockquote>
<p>实例化：使用关键字 new 来创建一个对象。</p>
</blockquote>
<blockquote>
<p>初始化：使用 new创建对象时，会调用构造方法初始化对象。</p>
</blockquote>
<p>&nbsp;</p>
<h2 id="2-Java-抽象类"><a href="#2-Java-抽象类" class="headerlink" title="2.Java 抽象类:"></a>2.Java 抽象类:</h2><blockquote>
<p>在面向对象的概念中，所有的对象都是通过类来描绘的，但是反过来，并不是所有的类都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样的类就是抽象类。<br>抽象类除了不能实例化对象之外，类的其它功能依然存在，成员变量、成员方法和构造方法的访问方式和普通类一样。<br>由于抽象类不能实例化对象，所以抽象类必须被继承，才能被使用。也是因为这个原因，通常在设计阶段决定要不要设计抽象类。<br>父类包含了子类集合的常见的方法，但是由于父类本身是抽象的，所以不能使用这些方法。<br>在Java中抽象类表示的是一种继承关系，一个类只能继承一个抽象类，而一个类却可以实现多个接口。</p>
</blockquote>
<h3 id="抽象方法："><a href="#抽象方法：" class="headerlink" title="抽象方法："></a>抽象方法：</h3><blockquote>
<p>如果你想设计这样一个类，该类包含一个特别的成员方法，该方法的具体实现由它的子类确定，那么你可以在父类中声明该方法为抽象方法。<br>Abstract 关键字同样可以用来声明抽象方法，抽象方法只包含一个方法名，而没有方法体。</p>
</blockquote>
<p>抽象方法没有定义，方法名后面直接跟一个分号，而不是花括号。</p>
<h3 id="例如："><a href="#例如：" class="headerlink" title="例如："></a>例如：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String name;</span><br><span class="line">   <span class="keyword">private</span> String address;</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">int</span> number;</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">computePay</span><span class="params">()</span></span>;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//其余代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>声明<strong>抽象方法</strong>会造成以下两个结果：</p>
<ol>
<li><p>如果一个类包含抽象方法，那么该类必须是抽象类。</p>
</li>
<li><p>任何子类必须重写父类的抽象方法，或者声明自身为抽象类。</p>
</li>
</ol>
<p>继承抽象方法的子类必须重写该方法。否则，该子类也必须声明为抽象类。最终，必须有子类实现该抽象方法，否则，从最初的父类到最终的子类都不能用来实例化对象。</p>
<h3 id="抽象类总结规定"><a href="#抽象类总结规定" class="headerlink" title="抽象类总结规定"></a>抽象类总结规定</h3><ol>
<li><p>抽象类不能被实例化(初学者很容易犯的错)，如果被实例化，就会报错，编译无法通过。只有抽象类的非抽象子类可以创建对象。</p>
</li>
<li><p>抽象类中不一定包含抽象方法，但是有抽象方法的类必定是抽象类。</p>
</li>
<li><p>抽象类中的抽象方法只是声明，不包含方法体，就是不给出方法的具体实现也就是方法的具体功能。</p>
</li>
<li><p>构造方法，类方法（用 static 修饰的方法）不能声明为抽象方法。</p>
</li>
<li><p>抽象类的子类必须给出抽象类中的抽象方法的具体实现，除非该子类也是抽象类。</p>
</li>
</ol>
<p>&nbsp;</p>
<h1 id="3-Java-封装"><a href="#3-Java-封装" class="headerlink" title="3.Java 封装:"></a>3.Java 封装:</h1><blockquote>
<p>在面向对象程式设计方法中，封装（英语：Encapsulation）是指一种将抽象性函式接口的实现细节部分包装、隐藏起来的方法。<br>封装可以被认为是一个保护屏障，防止该类的代码和数据被外部类定义的代码随机访问。<br>要访问该类的代码和数据，必须通过严格的接口控制。<br>封装最主要的功能在于我们能修改自己的实现代码，而不用修改那些调用我们代码的程序片段。<br>适当的封装可以让程式码更容易理解与维护，也加强了程式码的安全性。</p>
</blockquote>
<h3 id="封装的优点："><a href="#封装的优点：" class="headerlink" title="封装的优点："></a>封装的优点：</h3><ol>
<li>良好的封装能够减少耦合。</li>
<li>类内部的结构可以自由修改。</li>
<li>可以对成员变量进行更精确的控制。</li>
<li>隐藏信息，实现细节。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/12/30/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/" data-id="ckp2dd71n008z98tndr7a9403" data-title="面向对象开发笔记" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-磁盘调度算法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/14/%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2020-12-14T13:01:51.000Z" itemprop="datePublished">2020-12-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/14/%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/">磁盘调度算法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="以下两种算法的代码均是在c-环境下编译进行"><a href="#以下两种算法的代码均是在c-环境下编译进行" class="headerlink" title="以下两种算法的代码均是在c++环境下编译进行"></a>以下两种算法的代码均是在c++环境下编译进行</h3><h2 id="SSTF调度"><a href="#SSTF调度" class="headerlink" title="SSTF调度"></a>SSTF调度</h2><h3 id="初版："><a href="#初版：" class="headerlink" title="初版："></a>初版：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1010</span>],n;</span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">1010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,num=inf,minn=inf,flag;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(a[i]-u)&lt;minn&amp;&amp;book[i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            minn=<span class="built_in">abs</span>(a[i]-u);</span><br><span class="line">            flag=a[i];</span><br><span class="line">            num=i;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==inf)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    book[num]=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,flag,minn);</span><br><span class="line">    <span class="built_in">change</span>(flag);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,m;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘个数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘序列：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入当前磁道号：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;被访问的下一个磁道号\t移动距离（磁道数）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">change</span>(m);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最终版："><a href="#最终版：" class="headerlink" title="最终版："></a>最终版：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SSTF调度</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span><span class="comment">//c++万能头文件</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Coding author 孙黎明 19110543033</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 0x3f3f3f3f<span class="comment">//定义inf为无穷大</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//下面变量开全局，可以在main函数和自定义函数中同时使用，避免了传参数这一步骤</span></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">1010</span>];<span class="comment">//定义数组a，用来保存访盘序列</span></span><br><span class="line"><span class="keyword">int</span> n;<span class="comment">//n代表访盘个数</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">1010</span>];<span class="comment">//book[a]=1表示标号为a的访盘已经访问过，book[a]=0表示标号为a的访盘没有访问过。用来记录是否访问过，防止重复访问</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> u)</span><span class="comment">//处理函数，用来处理访盘序列，同时给出被访问的下一个磁道号以及移动距离，u代表当前磁道号</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> num=inf;<span class="comment">//用来记录被访问的下一个磁道号的编号，后续将其标记，初始赋值为inf，可以根据后续num的值来判断递归是否结束</span></span><br><span class="line">    <span class="keyword">int</span> minn=inf;<span class="comment">//保存最少的移动距离，初始值赋值为无穷大</span></span><br><span class="line">    <span class="keyword">int</span> flag;<span class="comment">//记录被访问的下一个磁道号</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//遍历整个访盘序列</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">abs</span>(a[i]-u)&lt;minn&amp;&amp;book[i]==<span class="number">0</span>)<span class="comment">//如果一个磁道号与当前磁道号的差比最小值还要小，同时这个磁道号没有访问过（abs：绝对值函数）</span></span><br><span class="line">        &#123;</span><br><span class="line">            minn=<span class="built_in">abs</span>(a[i]-u);<span class="comment">//更新最小值</span></span><br><span class="line">            flag=a[i];<span class="comment">//记录被访问的下一个磁道号</span></span><br><span class="line">            num=i;<span class="comment">//记录被访问的下一个磁道号的编号</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span>(num==inf)<span class="comment">//如果num=inf的话，就说明所有磁盘都访问过了，代表该递归结束</span></span><br><span class="line">        <span class="keyword">return</span>;<span class="comment">//return出去</span></span><br><span class="line">    book[num]=<span class="number">1</span>;<span class="comment">//循环完成后，把最终确定的被访问的下一个磁道号的编号标记，代表这个编号的磁道号已经访问过了，后续不会再访问</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,flag,minn);<span class="comment">//输出被访问的下一个磁道号以及移动距离，\t用来规范格式</span></span><br><span class="line">    <span class="built_in">change</span>(flag);<span class="comment">//递归思想，继续递归处理下一个磁道</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,m;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));<span class="comment">//初始化book数组全为0，代表所有磁道都没访问过</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘个数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入访盘个数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘序列：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入访盘序列</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入当前磁道号：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//读入当前磁道号</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;被访问的下一个磁道号\t移动距离（磁道数）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">change</span>(m);<span class="comment">//开始第一次调用处理函数处理数据</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="输入样例1："><a href="#输入样例1：" class="headerlink" title="输入样例1："></a>输入样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">55</span> <span class="number">58</span> <span class="number">39</span> <span class="number">18</span> <span class="number">90</span> <span class="number">160</span> <span class="number">150</span></span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>
<h3 id="输出样例1："><a href="#输出样例1：" class="headerlink" title="输出样例1："></a>输出样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">被访问的下一个磁道号	移动距离（磁道数）</span><br><span class="line"><span class="number">90</span>			<span class="number">10</span></span><br><span class="line"><span class="number">58</span>			<span class="number">32</span></span><br><span class="line"><span class="number">55</span>			<span class="number">3</span></span><br><span class="line"><span class="number">39</span>			<span class="number">16</span></span><br><span class="line"><span class="number">18</span>			<span class="number">21</span></span><br><span class="line"><span class="number">150</span>			<span class="number">132</span></span><br><span class="line"><span class="number">160</span>			<span class="number">10</span></span><br></pre></td></tr></table></figure>

<h3 id="输入样例2："><a href="#输入样例2：" class="headerlink" title="输入样例2："></a>输入样例2：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">50</span> <span class="number">49</span> <span class="number">55</span> <span class="number">100</span> <span class="number">9</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例2："><a href="#输出样例2：" class="headerlink" title="输出样例2："></a>输出样例2：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">被访问的下一个磁道号	移动距离（磁道数）</span><br><span class="line"><span class="number">3</span>			<span class="number">0</span></span><br><span class="line"><span class="number">1</span>			<span class="number">2</span></span><br><span class="line"><span class="number">5</span>			<span class="number">4</span></span><br><span class="line"><span class="number">9</span>			<span class="number">4</span></span><br><span class="line"><span class="number">49</span>			<span class="number">40</span></span><br><span class="line"><span class="number">50</span>			<span class="number">1</span></span><br><span class="line"><span class="number">55</span>			<span class="number">5</span></span><br><span class="line"><span class="number">100</span>			<span class="number">45</span></span><br></pre></td></tr></table></figure>
<h2 id="CSCAN调度"><a href="#CSCAN调度" class="headerlink" title="CSCAN调度"></a>CSCAN调度</h2><h3 id="初版：-1"><a href="#初版：-1" class="headerlink" title="初版："></a>初版：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,ans,n,m,a[<span class="number">1010</span>],num,flag;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘个数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘序列：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">sort</span>(a,a+n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入当前磁道号：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    ans=m;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;=m)</span><br><span class="line">        &#123;</span><br><span class="line">            flag=i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入磁头移动方向（向磁道号增加的方向请输入1，向磁道号减少的方向请输入0）：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;被访问的下一个磁道号\t移动距离（磁道数）\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(num==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=flag; i&lt;n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));</span><br><span class="line">            m=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;flag; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));</span><br><span class="line">            m=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=flag<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));</span><br><span class="line">            m=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=n<span class="number">-1</span>; i&gt;=flag; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));</span><br><span class="line">            m=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="最终版：-1"><a href="#最终版：-1" class="headerlink" title="最终版："></a>最终版：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CSCAN调度</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span><span class="comment">//c++万能头文件</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Coding author 孙黎明 19110543033</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> ans;<span class="comment">//用来保存最开始的那个磁道号</span></span><br><span class="line">    <span class="keyword">int</span> m;<span class="comment">//当前磁道号</span></span><br><span class="line">    <span class="keyword">int</span> n;<span class="comment">//访盘个数</span></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">1010</span>];<span class="comment">//用来保存访盘序列</span></span><br><span class="line">    <span class="keyword">int</span> num;<span class="comment">//记录磁头移动方向，0代表向磁道号减少的方向移动，1代表向磁道号增加的方向移动</span></span><br><span class="line">    <span class="keyword">int</span> flag;<span class="comment">//记录第一个大于等于当前磁道号的磁道的编号</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘个数：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入访盘个数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入访盘序列：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入访盘序列</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">    <span class="built_in">sort</span>(a,a+n);<span class="comment">//利用c++ STL中自带的排序函数排序（默认从小到大排）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入当前磁道号：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//读入当前磁道号</span></span><br><span class="line">    ans=m;<span class="comment">//把最开始的磁道号赋值给ans保存</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//遍历整个访盘序列找出第一个大于等于当前磁道号的磁道</span></span><br><span class="line">        <span class="keyword">if</span>(a[i]&gt;=m)</span><br><span class="line">        &#123;</span><br><span class="line">            flag=i;<span class="comment">//标记第一个大于等于当前磁道号的磁道的编号</span></span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//因为只需要找第一个，所以找到后就break出去</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入磁头移动方向（向磁道号增加的方向请输入1，向磁道号减少的方向请输入0）：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);<span class="comment">//读入磁头移动方向</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;被访问的下一个磁道号\t移动距离（磁道数）\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(num==<span class="number">1</span>)<span class="comment">//如果磁头是向磁道号增加的方向移动</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(i=flag; i&lt;n; i++)<span class="comment">//从第一个大于等于当前磁道号的磁道编号开始，从小到大，遍历整个访盘序列</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));<span class="comment">//输出被访问的下一个磁道号和移动距离（abs绝对值函数，可以直接给出距离）</span></span><br><span class="line">            m=a[i];<span class="comment">//更新当前磁道号，更新为刚才被访问的那个磁道</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;flag; i++)<span class="comment">//如果磁头到达最大处，就再从头开始到flag，遍历访盘序列，寻找被访问的下一个磁道号</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));<span class="comment">//输出被访问的下一个磁道号和移动距离（abs绝对值函数，可以直接给出距离）</span></span><br><span class="line">            m=a[i];<span class="comment">//更新当前磁道号，更新为刚才被访问的那个磁道</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果磁头是向磁道号减少的方向移动</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[flag]==ans ? i=flag : i=flag<span class="number">-1</span>;<span class="comment">//判断a[flag]是否等于ans，如果等于i就等于flag，否则i=flag-1。该步判断的意义在于如果a[flag]刚好等于ans的话就从a[flag]开始遍历，否则就代表a[flag-1]是第一个比ans小的磁道，那么就从a[flag-1]开始遍历</span></span><br><span class="line">        <span class="keyword">for</span>(; i&gt;=<span class="number">0</span>; i--)<span class="comment">//道理和上一个差不多</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));<span class="comment">//输出被访问的下一个磁道号和移动距离（abs绝对值函数，可以直接给出距离）</span></span><br><span class="line">            m=a[i];<span class="comment">//更新当前磁道号，更新为刚才被访问的那个磁道</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i=n<span class="number">-1</span>; a[flag]==ans ? i&gt;flag : i&gt;=flag; i--) <span class="comment">//从最大的磁道开始遍历</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\t\t\t%d\n&quot;</span>,a[i],<span class="built_in">abs</span>(a[i]-m));<span class="comment">//输出被访问的下一个磁道号和移动距离（abs绝对值函数，可以直接给出距离）</span></span><br><span class="line">            m=a[i];<span class="comment">//更新当前磁道号，更新为刚才被访问的那个磁道</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="输入样例1：-1"><a href="#输入样例1：-1" class="headerlink" title="输入样例1："></a>输入样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">55</span> <span class="number">58</span> <span class="number">39</span> <span class="number">18</span> <span class="number">90</span> <span class="number">160</span> <span class="number">150</span></span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例1：-1"><a href="#输出样例1：-1" class="headerlink" title="输出样例1："></a>输出样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">被访问的下一个磁道号	移动距离（磁道数）</span><br><span class="line"><span class="number">150</span>			<span class="number">50</span></span><br><span class="line"><span class="number">160</span>			<span class="number">10</span></span><br><span class="line"><span class="number">18</span>			<span class="number">142</span></span><br><span class="line"><span class="number">39</span>			<span class="number">21</span></span><br><span class="line"><span class="number">55</span>			<span class="number">16</span></span><br><span class="line"><span class="number">58</span>			<span class="number">3</span></span><br><span class="line"><span class="number">90</span>			<span class="number">32</span></span><br></pre></td></tr></table></figure>

<h3 id="输入样例2：-1"><a href="#输入样例2：-1" class="headerlink" title="输入样例2："></a>输入样例2：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">55</span> <span class="number">58</span> <span class="number">39</span> <span class="number">18</span> <span class="number">90</span> <span class="number">160</span> <span class="number">150</span></span><br><span class="line"><span class="number">90</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例2：-1"><a href="#输出样例2：-1" class="headerlink" title="输出样例2："></a>输出样例2：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">被访问的下一个磁道号	移动距离（磁道数）</span><br><span class="line"><span class="number">90</span>			<span class="number">0</span></span><br><span class="line"><span class="number">58</span>			<span class="number">32</span></span><br><span class="line"><span class="number">55</span>			<span class="number">3</span></span><br><span class="line"><span class="number">39</span>			<span class="number">16</span></span><br><span class="line"><span class="number">18</span>			<span class="number">21</span></span><br><span class="line"><span class="number">160</span>			<span class="number">142</span></span><br><span class="line"><span class="number">150</span>			<span class="number">10</span></span><br></pre></td></tr></table></figure>

<h2 id="算法或原理的实现思想："><a href="#算法或原理的实现思想：" class="headerlink" title="算法或原理的实现思想："></a>算法或原理的实现思想：</h2><p>算法：<br>算法就是磁盘调度算法，我选择的是SSTF调度算法和CSCAN调度算法。<br>SSTF算法（最短寻道时间优先）：就是先选择一个离当前磁道最近的磁道访问，然后以此类推，我感觉就是递归思想，写一个函数，然后所有过程都是一样的，即上一个磁道和下一个磁道的关系，然后一直递归。<br>CSCAN算法（循环扫描）：就是从当前磁道开始，有两种选择，1.磁头向磁道号增加的方向移动 2.磁头向磁道号减少的方向移动，具体过程就是模拟，但是其中我发现一个坑，这个后面在后面遇到的问题里再说。</p>
<p>遇到的问题：<br>SSTF算法：<br>第一个算法还好，复习了一下这个过程，然后一遍就敲出来了，和教材上的一模一样（就是我们自己印的那个教材），但是在加注释完注释的时候出现问题了，我找了好一会，又是debug又是单步调试，但是都找不出来错误，最后我发现是我递归的边界没写好。例如，在这个算法中，如果所有的磁道都访问完之后，我原本写的程序没有跳出递归这一步操作，所以程序会输出一些垃圾数，甚至有的时候会导致程序崩溃，最后我加上跳出的那一步操作后就没问题，这里可以参考一下我的原代码，即没有加注释和改错之前的代码（<a href="https://sun-dawn.github.io/">代码查看</a>里面我详细写了每个代码的更改过程 包括原代码和注释更改后的最终代码）<br>CSCAN算法：<br>这个算法我感觉就更简单了，就是单纯的模拟这个过程，从大到小和从小到大，4个for循环就ok了，但是正如我上面说的那样，我发现一个坑，这个坑是在从大到小的过程中，同时当前磁道号就等于访盘序列中某一个磁盘号时，会出现错误，原因是我用flag标记第一个大于等于当前磁道号的时候，因为是大于等于，所以可能会出现等于的情况，这样我从大到小跑的时候会忽略掉那个等于的部分，具体可以看我博客里写的原代码和最终代码的比较（网址在上面提到过），测试数据的话就是这个算法的样例2，如果用我的原代码和最终版代码跑一遍的话就会发现，两种代码输出的结果不一样，显然最终版是对的，所以我做了改动，里面用了三目运算符，感觉还挺好用的。</p>
<p>参考文献：<br>山东理工大学19级计科（中外）操作系统教材———复印ppt版<br>没有参考网络和其他同学</p>
<p>感想、体会和收获：<br>和上次的银行家算法一样，在敲代码之前从教材上复习了一下磁盘调度算法的整个过程，在熟知了所有磁盘调度算法的方法后我才开始敲代码，然后敲代码的过程总的来说还是挺顺利的，虽然中间出了一些小差错，但是最后都能改正过来。这个过程不仅让我学习了操作系统的相关知识，也让我提高了敲代码的能力，个人还是挺喜欢大作业的这种形式。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/12/14/%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95/" data-id="ckp2dd71l008u98tn2fd53jw3" data-title="磁盘调度算法" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Problem C Game Map (dfs+剪枝）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/12/12/Problem%20C%20Game%20Map%20(dfs+%E5%89%AA%E6%9E%9D%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2020-12-12T12:21:34.000Z" itemprop="datePublished">2020-12-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/">搜索</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/DFS/">DFS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/12/12/Problem%20C%20Game%20Map%20(dfs+%E5%89%AA%E6%9E%9D%EF%BC%89/">Problem C Game Map (dfs+剪枝）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/411572#problem/C">题目链接</a></h3><p><img src="https://img-blog.csdnimg.cn/20201212201738782.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br><img src="https://img-blog.csdnimg.cn/20201212201808517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br><img src="https://img-blog.csdnimg.cn/20201212201829714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>让你找一条路，使得这条路上的点的度，严格递增，问你能找到路的最大长度。<br>例如第一个样例的路为：2 5 4 1，长度为4</p>
<p>2 5 4 1的度分别为2 3 4 5（严格递增）</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>dfs搜索+剪枝，不剪枝的话会超时（亲身经历</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;e[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(ans[u]==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[u]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;e[u].<span class="built_in">size</span>(); i++)</span><br><span class="line">            <span class="keyword">if</span>(e[e[u][i]].<span class="built_in">size</span>()&gt;e[u].<span class="built_in">size</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                ans[u]=<span class="built_in">max</span>(ans[u],<span class="built_in">dfs</span>(e[u][i])+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans[u];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,x,y,maxn=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        e[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">        e[y].<span class="built_in">push_back</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(ans[i]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">dfs</span>(i);</span><br><span class="line">            maxn=<span class="built_in">max</span>(maxn,ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,maxn);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/12/12/Problem%20C%20Game%20Map%20(dfs+%E5%89%AA%E6%9E%9D%EF%BC%89/" data-id="ckp2dd6zb003m98tnee593zl5" data-title="Problem C Game Map (dfs+剪枝）" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-银行家算法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2020-11-28T09:54:24.000Z" itemprop="datePublished">2020-11-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/">银行家算法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="非注释版："><a href="#非注释版：" class="headerlink" title="非注释版："></a>非注释版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>],sum[<span class="number">100</span>],cha[<span class="number">100</span>],need[<span class="number">100</span>][<span class="number">100</span>],allocation[<span class="number">100</span>][<span class="number">100</span>],maxn[<span class="number">100</span>][<span class="number">100</span>],n,m,que[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));</span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    ans=i;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)</span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;</span><br><span class="line">            ans=i;</span><br><span class="line">            book[i]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)</span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">        i%=n;</span><br><span class="line">        <span class="keyword">if</span>(i==ans)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：P0 2 17 10 6-1 9 3 2(其中数字个数取决于输入的资源类数m)\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="样例1"><a href="#样例1" class="headerlink" title="样例1:"></a>样例1:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">4</span></span><br><span class="line"><span class="number">24</span> <span class="number">28</span> <span class="number">25</span> <span class="number">31</span></span><br><span class="line">P0 <span class="number">2</span> <span class="number">17</span> <span class="number">10</span> <span class="number">6</span><span class="number">-1</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line">P1 <span class="number">11</span> <span class="number">6</span> <span class="number">12</span> <span class="number">13</span><span class="number">-9</span> <span class="number">1</span> <span class="number">6</span> <span class="number">5</span></span><br><span class="line">P2 <span class="number">0</span> <span class="number">0</span> <span class="number">13</span> <span class="number">11</span><span class="number">-0</span> <span class="number">0</span> <span class="number">7</span> <span class="number">4</span></span><br><span class="line">P3 <span class="number">4</span> <span class="number">15</span> <span class="number">8</span> <span class="number">8</span><span class="number">-1</span> <span class="number">6</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P4 <span class="number">9</span> <span class="number">11</span> <span class="number">9</span> <span class="number">9</span><span class="number">-5</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<h3 id="样例2"><a href="#样例2" class="headerlink" title="样例2:"></a>样例2:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">17</span> <span class="number">5</span> <span class="number">20</span></span><br><span class="line">P1 <span class="number">5</span> <span class="number">5</span> <span class="number">9</span><span class="number">-2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P2 <span class="number">5</span> <span class="number">3</span> <span class="number">6</span><span class="number">-4</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line">P3 <span class="number">4</span> <span class="number">0</span> <span class="number">11</span><span class="number">-4</span> <span class="number">0</span> <span class="number">5</span></span><br><span class="line">P4 <span class="number">4</span> <span class="number">2</span> <span class="number">5</span><span class="number">-2</span> <span class="number">0</span> <span class="number">4</span></span><br><span class="line">P5 <span class="number">4</span> <span class="number">2</span> <span class="number">4</span><span class="number">-3</span> <span class="number">1</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>
<h3 id="以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。"><a href="#以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。" class="headerlink" title="以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。"></a>以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。</h3><hr>
<h2 id="注释版："><a href="#注释版：" class="headerlink" title="注释版："></a>注释版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>];<span class="comment">//avallable[a]=b 代表系统中全部资源a总量为b</span></span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">100</span>];<span class="comment">//sum[a]=b 代表编号为a的资源总量为b（已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> cha[<span class="number">100</span>];<span class="comment">//cha[a]=b 代表编号为a的资源还剩b（即资源总量-已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> need[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//need[a][b]=c 代表编号为a的进程的b类资源还需要c</span></span><br><span class="line"><span class="keyword">int</span> allocation[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//allocati[a][b]=c 代表已经分配给进程编号为a的b类资源c</span></span><br><span class="line"><span class="keyword">int</span> maxn[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//maxn[a][b]=c 代表进程编号为a的进程总共需要b类资源c</span></span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">//n代表进程个数 m代表资源类数</span></span><br><span class="line"><span class="keyword">int</span> que[<span class="number">100</span>];<span class="comment">//模拟队列 用来保存安全序列</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];<span class="comment">//标记数组 查找安全序列的时候需要对已经在队列中的进程标记，防止多次执行同一个进程</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span><span class="comment">//检查函数 用来判断进程序列是否安全 如果安全同时计算出安全序列并把它保存到que数组中</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));<span class="comment">//初始值为true，即所有进程暂时都没有进入安全序列</span></span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;<span class="comment">//k用来记录当前安全序列中进程的个数。ans用来记录上一次进入安全序列的进程编号，该变量可以判断进程是否安全</span></span><br><span class="line">    i=<span class="number">0</span>;<span class="comment">//对i进行初始化 即首先对编号为0的进程开始检测</span></span><br><span class="line">    ans=i;<span class="comment">//让ans等于i</span></span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)<span class="comment">//while循环 当安全序列中进程的个数小于总进程数，即安全序列没有找全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历每一个资源类数</span></span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)<span class="comment">//如果当前进程所需的资源大于系统中剩余的资源或者该进程已经出现在安全序列中的话就break 跳出循环</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)<span class="comment">//如果j等于m的话 就说明上面的break没有被执行到，也就代表着当前进程的m类资源都小于系统中剩余的资源（即系统可以对其分配资源）同时，当前进程没有出现在安全序列中（如果出现在安全序列中我们就不需要再对其判断）</span></span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;<span class="comment">//把该进程放入安全队列中</span></span><br><span class="line">            ans=i;<span class="comment">//更改ans的值</span></span><br><span class="line">            book[i]=<span class="literal">false</span>;<span class="comment">//更改标记数组的值，代表该进程已经进入安全序列了，在以后的判断中不需要再对该进程进行判断</span></span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)<span class="comment">//遍历m个资源，释放该进程所占有的资源</span></span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;<span class="comment">//i++，遍历下一个进程</span></span><br><span class="line">        i%=n;<span class="comment">//对n取模，因为while循环不确定循环多少次，所以要对n取模，确保i在[0,n)之间</span></span><br><span class="line">        <span class="keyword">if</span>(i==ans)<span class="comment">//如果i==ans的话就说明 经过一轮循环 遍历过所有进程，但是在这轮循环中没有进程进去安全序序列（如果进入安全序列的话ans就会更新），即说明剩下的进程请求不会被系统接纳</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//返回 false 说明该进程序列不安全</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//反之 如果前面没有返回ralse 同时k==n了 即说明所有进程都已进入安全序列，则说明该进程序列时安全的 同时返回true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];<span class="comment">//记录进程名字 例如P0,P1,P2</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入进程个数n</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//如果资源类数m</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);<span class="comment">//分别读入系统中全部的资源总量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：P0 2 17 10 6-1 9 3 2(其中数字个数取决于输入的资源类数m)\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);<span class="comment">//进程的名字</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);<span class="comment">//进程需要的总资源</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);<span class="comment">//系统已经分配给进程的资源</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);<span class="comment">//用来输出A,B,C…… 代表资源A  资源B  资源C ……</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);<span class="comment">//输出当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果检查函数返回值是true，即代表该进程序列是安全的</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果此时系统状态不安全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="最终版："><a href="#最终版：" class="headerlink" title="最终版："></a>最终版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译语言 c++</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Coding author 计科1905孙黎明</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>];<span class="comment">//avallable[a]=b 代表系统中全部资源a总量为b</span></span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">100</span>];<span class="comment">//sum[a]=b 代表编号为a的资源总量为b（已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> cha[<span class="number">100</span>];<span class="comment">//cha[a]=b 代表编号为a的资源还剩b（即资源总量-已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> need[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//need[a][b]=c 代表编号为a的进程的b类资源还需要c</span></span><br><span class="line"><span class="keyword">int</span> allocation[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//allocati[a][b]=c 代表已经分配给进程编号为a的b类资源c</span></span><br><span class="line"><span class="keyword">int</span> maxn[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//maxn[a][b]=c 代表进程编号为a的进程总共需要b类资源c</span></span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">//n代表进程个数 m代表资源类数</span></span><br><span class="line"><span class="keyword">int</span> que[<span class="number">100</span>];<span class="comment">//模拟队列 用来保存安全序列</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];<span class="comment">//标记数组 查找安全序列的时候需要对已经在队列中的进程标记，防止多次执行同一个进程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initialization</span><span class="params">()</span><span class="comment">//清空函数，把所有变量清空，为下一次计算安全序列做准备</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(sum));</span><br><span class="line">    <span class="built_in">memset</span>(cha,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(cha));</span><br><span class="line">    <span class="built_in">memset</span>(need,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(need));</span><br><span class="line">    <span class="built_in">memset</span>(que,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(que));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span><span class="comment">//检查函数 用来判断进程序列是否安全 如果安全同时计算出安全序列并把它保存到que数组中</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));<span class="comment">//初始值为true，即所有进程暂时都没有进入安全序列</span></span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;<span class="comment">//k用来记录当前安全序列中进程的个数。ans用来记录上一次进入安全序列的进程编号，该变量可以判断进程是否安全</span></span><br><span class="line">    i=<span class="number">0</span>;<span class="comment">//对i进行初始化 即首先对编号为0的进程开始检测</span></span><br><span class="line">    ans=i;<span class="comment">//让ans等于i</span></span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)<span class="comment">//while循环 当安全序列中进程的个数小于总进程数，即安全序列没有找全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历每一个资源类数</span></span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)<span class="comment">//如果当前进程所需的资源大于系统中剩余的资源或者该进程已经出现在安全序列中的话就break 跳出循环</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)<span class="comment">//如果j等于m的话 就说明上面的break没有被执行到，也就代表着当前进程的m类资源都小于系统中剩余的资源（即系统可以对其分配资源）同时，当前进程没有出现在安全序列中（如果出现在安全序列中我们就不需要再对其判断）</span></span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;<span class="comment">//把该进程放入安全队列中</span></span><br><span class="line">            ans=i;<span class="comment">//更改ans的值</span></span><br><span class="line">            book[i]=<span class="literal">false</span>;<span class="comment">//更改标记数组的值，代表该进程已经进入安全序列了，在以后的判断中不需要再对该进程进行判断</span></span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)<span class="comment">//遍历m个资源，释放该进程所占有的资源</span></span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;<span class="comment">//i++，遍历下一个进程</span></span><br><span class="line">        i%=n;<span class="comment">//对n取模，因为while循环不确定循环多少次，所以要对n取模，确保i在[0,n)之间</span></span><br><span class="line">        <span class="keyword">if</span>(i==ans)<span class="comment">//如果i==ans的话就说明 经过一轮循环 遍历过所有进程，但是在这轮循环中没有进程进去安全序序列（如果进入安全序列的话ans就会更新），即说明剩下的进程请求不会被系统接纳</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//返回 false 说明该进程序列不安全</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//反之 如果前面没有返回ralse 同时k==n了 即说明所有进程都已进入安全序列，则说明该进程序列时安全的 同时返回true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">int</span> flag;<span class="comment">//记录预分配进程编号</span></span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];<span class="comment">//记录进程名字 例如P0,P1,P2</span></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>];<span class="comment">//保存预分配进程名称</span></span><br><span class="line">    <span class="keyword">int</span> before[<span class="number">100</span>];<span class="comment">//before[a]=b 代表预分配进程需要a类资源的数量为b</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入进程个数n</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//如果资源类数m</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);<span class="comment">//分别读入系统中全部的资源总量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;进程名称\t进程所需最大资源数量\t系统已经分配给进程的资源数\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：\nP0\t\t2 17 10 6\t\t1 9 3 2  (数字个数取决于资源类数）\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);<span class="comment">//进程的名字</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);<span class="comment">//进程需要的总资源</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);<span class="comment">//系统已经分配给进程的资源</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);<span class="comment">//用来输出A,B,C…… 代表资源A  资源B  资源C ……</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);<span class="comment">//输出当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果检查函数返回值是true，即代表该进程序列是安全的</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果此时系统状态不安全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">initialization</span>();<span class="comment">//清空函数 清空变量的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;4.若进程x提出请求y，系统能否将资源分配给它？\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;例如：\nx:P0\ny：0 1 1 0\nps：其中数字个数取决于资源类数\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;x:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);<span class="comment">//读入预分配进程的名称</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;y:&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;before[i]);<span class="comment">//分别读入预分配进程所需的各类资源数量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//遍历所有进程</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(process[i],str)==<span class="number">0</span>)<span class="comment">//如果发现进程名称等于预分配进程名称，即找到对应的进程</span></span><br><span class="line">        &#123;</span><br><span class="line">            flag=i;<span class="comment">//用变量flag标记进程编号</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        allocation[flag][i]+=before[i];<span class="comment">//由于预分配，所以改变原本系统分配给该进程的资源数量</span></span><br><span class="line">    <span class="comment">/******************************/</span> <span class="comment">//该部分与上面相同，作用是用来处理数据 计算所需要数据的值</span></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="comment">/******************************/</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果系统状态安全，且存在安全序列</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;系统能否把资源预分配给它？能\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;预分配后安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果系统不安全，也不存在安全序列</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;系统能否把资源预分配给它？不能\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;因为预分配后系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="输入样例1："><a href="#输入样例1：" class="headerlink" title="输入样例1："></a>输入样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">4</span></span><br><span class="line"><span class="number">24</span> <span class="number">28</span> <span class="number">25</span> <span class="number">31</span></span><br><span class="line">P0              <span class="number">2</span> <span class="number">17</span> <span class="number">10</span> <span class="number">6</span>               <span class="number">1</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line">P1              <span class="number">11</span> <span class="number">6</span> <span class="number">12</span> <span class="number">13</span>              <span class="number">9</span> <span class="number">1</span> <span class="number">6</span> <span class="number">5</span></span><br><span class="line">P2              <span class="number">0</span> <span class="number">0</span> <span class="number">13</span> <span class="number">11</span>               <span class="number">0</span> <span class="number">0</span> <span class="number">7</span> <span class="number">4</span></span><br><span class="line">P3              <span class="number">4</span> <span class="number">15</span> <span class="number">8</span> <span class="number">8</span>                <span class="number">1</span> <span class="number">6</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P4              <span class="number">9</span> <span class="number">11</span> <span class="number">9</span> <span class="number">9</span>                <span class="number">5</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span></span><br><span class="line">P1</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="输出样例1："><a href="#输出样例1：" class="headerlink" title="输出样例1："></a>输出样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>此时系统中可利用的资源向量ABCD为:</span><br><span class="line">A:<span class="number">8</span></span><br><span class="line">B:<span class="number">4</span></span><br><span class="line">C:<span class="number">6</span></span><br><span class="line">D:<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>安全序列为：</span><br><span class="line">P2 P4 P0 P1 P3</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？能</span><br><span class="line"></span><br><span class="line">预分配后安全序列为：</span><br><span class="line">P2 P4 P0 P1 P3</span><br></pre></td></tr></table></figure>
<h3 id="输入样例2："><a href="#输入样例2：" class="headerlink" title="输入样例2："></a>输入样例2：</h3><figure class="highlight plaintext"><figcaption><span>3</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">17 5 20</span><br><span class="line">P1              5 5 9                   2 1 2</span><br><span class="line">P2              5 3 6                   4 0 2</span><br><span class="line">P3              4 0 11                  4 0 5</span><br><span class="line">P4              4 2 5                   2 0 4</span><br><span class="line">P5              4 2 4                   3 1 4</span><br><span class="line">P2</span><br><span class="line">0 3 4</span><br></pre></td></tr></table></figure>
<h3 id="输出样例2："><a href="#输出样例2：" class="headerlink" title="输出样例2："></a>输出样例2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">A:2</span><br><span class="line">B:3</span><br><span class="line">C:3</span><br><span class="line"></span><br><span class="line">2.利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line">3.安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3 </span><br><span class="line"></span><br><span class="line">4.若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？不能</span><br><span class="line"></span><br><span class="line">因为预分配后系统状态不安全，所以无法给出安全序列。</span><br></pre></td></tr></table></figure>

<h3 id="输入样例3："><a href="#输入样例3：" class="headerlink" title="输入样例3："></a>输入样例3：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">17</span> <span class="number">5</span> <span class="number">20</span></span><br><span class="line">P1              <span class="number">5</span> <span class="number">5</span> <span class="number">9</span>                   <span class="number">2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P2              <span class="number">5</span> <span class="number">3</span> <span class="number">6</span>                   <span class="number">4</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line">P3              <span class="number">4</span> <span class="number">0</span> <span class="number">11</span>                  <span class="number">4</span> <span class="number">0</span> <span class="number">5</span></span><br><span class="line">P4              <span class="number">4</span> <span class="number">2</span> <span class="number">5</span>                   <span class="number">2</span> <span class="number">0</span> <span class="number">4</span></span><br><span class="line">P5              <span class="number">4</span> <span class="number">2</span> <span class="number">4</span>                   <span class="number">3</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line">P4</span><br><span class="line"><span class="number">2</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例3："><a href="#输出样例3：" class="headerlink" title="输出样例3："></a>输出样例3：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>此时系统中可利用的资源向量ABC为:</span><br><span class="line">A:<span class="number">2</span></span><br><span class="line">B:<span class="number">3</span></span><br><span class="line">C:<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3 </span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？能</span><br><span class="line"></span><br><span class="line">预分配后安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>一、算法或原理的实现思想：<br>算法：算法的话是银行家算法，用于判断给定的序列是否安全，系统能否给他们分配相应的资源。</p>
<p>实现思想：我个人的实现思想就是模拟，银行家算法总的来说并不难，但是可能比较麻烦，需要一步步模拟，计算出每个进程所需要的资源，系统中每个资源所剩的数目等等。</p>
<p>遇到的困难：总体来说还可以，只要理解银行家算法整个过程，写起来就很好写了，要说难点的话，我代码的难点主要在check函数（检查函数）中，也是我整个代码最核心的部分，用来判断序列是否安全，以及求出相应的安全序列。我用了while循环，由于不确定循环次数，其中i%n也是很重要的，因为要保证编号位于[0,1)之前，同时用que数组模拟队列，用来保存安全序列，其中在进行预分配前需要把之前计算的一些数据清零（因为那是前一次处理的参与数据，不清零的话会影响后续数据的计算），在敲的时候我没有意识到这一点，然后测数据的时候出现了错误，我才意识到需要清零。</p>
<p>可以改进的地方：我的代码中有一部分用了两次,就是/***/框中的那部分，其实可以把它单独写成一个处理函数，这样在对它进行二次调用的时候就可以直接调用函数了，思路上并没有什么改变，但是可以使代码看起来更整洁。</p>
<p>ps：我所测得数据均是网络信息综合教育平台上《操作系统》的在线测试题，即银行家算法随堂测试1和银行家算法随堂测试2</p>
<p>四、参考文献：<br><a target="_blank" rel="noopener" href="http://etcnew.sdut.edu.cn/meol/jpk/course/layout/newpage1/index.jsp?courseId=45133">参考网址</a>（山东理工大学网络信息综合教育平台《操作系统》在线测试）参考输入样例和答案。<br>没有参考其它书籍和同学交流。</p>
<p>五、感想体会或收获：<br>更加熟悉银行家算法了，因为在敲代码之前我又复习了一下银行家算法，把网络教学平台上的两个在线测试又做了一遍，复习了一下，然后就开始敲代码，在理解了算法之后敲代码就比较简单了，就是按照做题思路来敲，锻炼了动手能力，也对银行家算法了解更深了。</p>
<p>注：另外还有一些完整的解题思路以及我改代码的整个过程都放到了博客：<a href="https://sun-dawn.github.io/">博客链接</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/" data-id="ckp2dd71v009q98tn1xbcf968" data-title="银行家算法" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C&amp;C++中强大的库函数" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/" class="article-date">
  <time class="dt-published" datetime="2020-11-26T07:25:01.000Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E8%AE%B0%E5%BD%95/">记录</a>►<a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>►<a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/">C&amp;C++中强大的库函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><p>sort（）//排序；<br>用法略</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="最大公约数"><a href="#最大公约数" class="headerlink" title="最大公约数"></a>最大公约数</h1><p>__gcd（n,m）//求n,m的最大公约数</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="数字转化成字符串"><a href="#数字转化成字符串" class="headerlink" title="数字转化成字符串"></a>数字转化成字符串</h1><p>sprintf(str,”%d”,n)//把数字n转换成字符串，存到str里</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="built_in">sprintf</span>(str,<span class="string">&quot;%d&quot;</span>,num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>double类型的也可以，不过好像只能保留6位小数，然后四舍五入，还有待深究<br><img src="https://img-blog.csdnimg.cn/20201017213406119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串转化成数字"><a href="#字符串转化成数字" class="headerlink" title="字符串转化成数字"></a>字符串转化成数字</h1><p>atoi()//把字符串转换成数字，如果输入不符合要求的字符串（例如abcde，不是数字）则会输出0</p>
<p>注：</p>
<p>double atof(const char *s) 将s所指向的字符串转换成实数 实数值</p>
<p>int atoi(const char *s) 将s所指向的字符串转换成整数 整数值</p>
<p>long atol(const char *s) 将s所指的字符串转换成长整数 长整数值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    num=<span class="built_in">atoi</span>(a);<span class="comment">//整数类型</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外double类型好像只能保留6位小数，也是四舍五入（四舍五入不确定似乎有时候也并不是四舍五入例如123.4567895就输出123.456789，这里还有待商榷）<br><img src="https://img-blog.csdnimg.cn/20201018134942431.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="拷贝字符串"><a href="#拷贝字符串" class="headerlink" title="拷贝字符串"></a>拷贝字符串</h1><p>strncpy(b,a,n)//把字符串a中前n个元素赋值给字符串b，如果a中不满n个元素则全部赋值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>],b[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">memset</span>(b,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(b));</span><br><span class="line">    <span class="built_in">strncpy</span>(b,a,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018125436880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20201018125538129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h1><p>strcat(a,b)//把字符串a和字符串b连接起来 存到字符串a里面</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>],b[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,b);</span><br><span class="line">    <span class="built_in">strcat</span>(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018125959163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="下取整与上取整"><a href="#下取整与上取整" class="headerlink" title="下取整与上取整"></a>下取整与上取整</h1><p>floor()//用于输出浮点类型中小于此数的最大整数</p>
<p>ps:floor(n+0.5)可用于进行四舍五入的处理</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="built_in">floor</span>(a));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018130414119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>如果直接%f输出的话好像默认保留6位小数，当然可以进行扩展例如%.10f就会保留10位小数</p>
<p>如果想要整数的话%.f输出<br><img src="https://img-blog.csdnimg.cn/20201018130644532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>ceil()//用于输出浮点类型中大于此数的最大整数<br>用法和floor类似，如果想要整数的话也是%.f输出<br><img src="https://img-blog.csdnimg.cn/20201018130850362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="求π"><a href="#求π" class="headerlink" title="求π"></a>求π</h1><p>atan()//用来求π的值：atan(1)=π/4 π=4.0*atan（1）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.10f\n&quot;</span>,<span class="number">4.0</span>*<span class="built_in">atan</span>(<span class="number">1</span>));<span class="comment">//输出3.1415926536</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h1><p>lower_bound()//查找有序区间[first，last]中第一个大于等于val的位置</p>
<blockquote>
<p>函数原型：lower_bound(int* first,int* last,int val);</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,a[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">        a[i]=i+<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*<span class="built_in">lower_bound</span>(a,a+<span class="number">9</span>,<span class="number">6</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018131657663.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>上图代码返回的是在数组a中第一个大于6的值也就是7<br>这个函数返回的是指针，如果想求出第一个大于key的值的话前面需要加*号，也就是int ans=*upper_bound(a,a+k,key);（如上图代码）；如果想求出第一个大于key的值的下标的话，就是int ans=upper_bound(a,a+k,key)-a;还有一点因为是区间是左闭右开，所以是a和a+n，可以和sort对比记忆（几乎差不多）<br><img src="https://img-blog.csdnimg.cn/20210321173707812.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>upper_bound（）//大致和lower_bound()相同，不过查找的是有序区间[first，last)中第一个大于x的位置<br><img src="https://img-blog.csdnimg.cn/20201018132015249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20210405210504258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h1><p>reverse()//将[first,last)范围内的字符顺序反转</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">reverse</span>(a,a+<span class="built_in">strlen</span>(a));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018132330740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="浮点数取余"><a href="#浮点数取余" class="headerlink" title="浮点数取余"></a>浮点数取余</h1><p>fmod(x,y)//求x%y的余数（用于double类型）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a=<span class="number">1.2</span>,b=<span class="number">1.5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="built_in">fmod</span>(b,a));<span class="comment">//输出0.300000</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h1><p>strtol()函数 用于long int</p>
<p>strtoll()函数 用于long long int</p>
<blockquote>
<p>函数原型：long int strtol(const char *nptr, char **endptr, int base)<br>base是要转化的数的进制，非法字符会赋值给endptr，nptr是要转化的字符，例如:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10000</span>];</span><br><span class="line">    <span class="keyword">char</span> *a;</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">    ans=<span class="built_in">strtol</span>(str, &amp;a, <span class="number">16</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中a保存的是垃圾字符，即不满足转化进制的，十六进制中a-f或A-F为合法，其他字符不合法<br><img src="https://img-blog.csdnimg.cn/20201126152227389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="string替换"><a href="#string替换" class="headerlink" title="string替换"></a>string替换</h1><p>replace()函数：用于字符串（string类型）的替换<br><img src="https://img-blog.csdnimg.cn/20210315142219296.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br><img src="https://img-blog.csdnimg.cn/20210315142640389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>replace函数有3个参数，分别是：下标（从0开始），从下标开始向后多少位（包含下标，可以理解为左闭右开），替换后的字符串。</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="string截取"><a href="#string截取" class="headerlink" title="string截取"></a>string截取</h1><p>substr() （从下标i开始，包括i）<br><img src="https://img-blog.csdnimg.cn/2021041920323476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>运行结果：<br><img src="https://img-blog.csdnimg.cn/20210419203342894.png"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="find-查找"><a href="#find-查找" class="headerlink" title="find()查找"></a>find()查找</h1><p>用于在string中查找某个字符串的位置，如果没有找到则返回-1<br><img src="https://img-blog.csdnimg.cn/20210423210847131.png"></p>
<p>输出:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>find函数可以有两个参数，第一个参数是一个字符串，即我们需要找的；第二个参数是从下标（包含）为几开始找 （默认下标从0开始）</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串类型变数字类型"><a href="#字符串类型变数字类型" class="headerlink" title="字符串类型变数字类型"></a>字符串类型变数字类型</h1><p><img src="https://img-blog.csdnimg.cn/20210508202143863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1231</span></span><br><span class="line"><span class="number">345.1230</span></span><br><span class="line"><span class="number">1234567898765</span></span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="数字变字符串类型"><a href="#数字变字符串类型" class="headerlink" title="数字变字符串类型"></a>数字变字符串类型</h1><p><img src="https://img-blog.csdnimg.cn/20210508202307669.png"><br>输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2341234</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/" data-id="ckp2dd6x8001098tnaai726lz" data-title="C&amp;C++中强大的库函数" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/DP/">DP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/DP/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/">记忆化搜索</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E4%BA%8C%E5%88%86/">二分</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/">图论</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/%E4%BA%8C%E5%88%86%E5%9B%BE/">二分图</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%80%9D%E7%BB%B4/">思维</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/">搜索</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/BFS/">BFS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/DFS/">DFS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%8D%E7%BC%80%E5%92%8C%E5%B7%AE%E5%88%86/">前缀和差分</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%A0%86/">堆</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/">栈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%91/">树</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E8%AE%BA/">数论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%9A%B4%E5%8A%9B/">暴力</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%A8%A1%E6%8B%9F/">模拟</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E8%AE%B0%E5%BD%95/">记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E8%B4%AA%E5%BF%83/">贪心</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91/">面向对象开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/05/13/%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F/">数独游戏</a>
          </li>
        
          <li>
            <a href="/2021/04/28/leeing%20Sunlight%20Gym%20-%20103061F/">leeing Sunlight Gym - 103061F</a>
          </li>
        
          <li>
            <a href="/2021/04/26/L2-040%20%E5%93%B2%E5%93%B2%E6%89%93%E6%B8%B8%E6%88%8F%20(25%20%E5%88%86)/">L2-040 哲哲打游戏 (25 分)</a>
          </li>
        
          <li>
            <a href="/2021/04/26/L2-038%20%E7%97%85%E6%AF%92%E6%BA%AF%E6%BA%90%20(25%20%E5%88%86)/">L2-038 病毒溯源 (25 分)</a>
          </li>
        
          <li>
            <a href="/2021/04/21/python%E4%B8%AD%E6%95%B4%E9%99%A4%E4%B8%8E%E5%8F%96%E6%95%B4%E7%9A%84%E5%8C%BA%E5%88%AB/">python中整除与取整的区别</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Sun-Dawn<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>