<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Dawn&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Dawn&#39;s Blog">
<meta property="og:url" content="https://sun-dawn.github.io/page/6/index.html">
<meta property="og:site_name" content="Dawn&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Sun-Dawn">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Dawn's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Dawn&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://Sun-Dawn.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-银行家算法" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2020-11-28T09:54:24.000Z" itemprop="datePublished">2020-11-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/">银行家算法</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="非注释版："><a href="#非注释版：" class="headerlink" title="非注释版："></a>非注释版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>],sum[<span class="number">100</span>],cha[<span class="number">100</span>],need[<span class="number">100</span>][<span class="number">100</span>],allocation[<span class="number">100</span>][<span class="number">100</span>],maxn[<span class="number">100</span>][<span class="number">100</span>],n,m,que[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));</span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;</span><br><span class="line">    i=<span class="number">0</span>;</span><br><span class="line">    ans=i;</span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)</span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;</span><br><span class="line">            ans=i;</span><br><span class="line">            book[i]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)</span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">        i%=n;</span><br><span class="line">        <span class="keyword">if</span>(i==ans)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：P0 2 17 10 6-1 9 3 2(其中数字个数取决于输入的资源类数m)\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="样例1"><a href="#样例1" class="headerlink" title="样例1:"></a>样例1:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">4</span></span><br><span class="line"><span class="number">24</span> <span class="number">28</span> <span class="number">25</span> <span class="number">31</span></span><br><span class="line">P0 <span class="number">2</span> <span class="number">17</span> <span class="number">10</span> <span class="number">6</span><span class="number">-1</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line">P1 <span class="number">11</span> <span class="number">6</span> <span class="number">12</span> <span class="number">13</span><span class="number">-9</span> <span class="number">1</span> <span class="number">6</span> <span class="number">5</span></span><br><span class="line">P2 <span class="number">0</span> <span class="number">0</span> <span class="number">13</span> <span class="number">11</span><span class="number">-0</span> <span class="number">0</span> <span class="number">7</span> <span class="number">4</span></span><br><span class="line">P3 <span class="number">4</span> <span class="number">15</span> <span class="number">8</span> <span class="number">8</span><span class="number">-1</span> <span class="number">6</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P4 <span class="number">9</span> <span class="number">11</span> <span class="number">9</span> <span class="number">9</span><span class="number">-5</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<h3 id="样例2"><a href="#样例2" class="headerlink" title="样例2:"></a>样例2:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">17</span> <span class="number">5</span> <span class="number">20</span></span><br><span class="line">P1 <span class="number">5</span> <span class="number">5</span> <span class="number">9</span><span class="number">-2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P2 <span class="number">5</span> <span class="number">3</span> <span class="number">6</span><span class="number">-4</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line">P3 <span class="number">4</span> <span class="number">0</span> <span class="number">11</span><span class="number">-4</span> <span class="number">0</span> <span class="number">5</span></span><br><span class="line">P4 <span class="number">4</span> <span class="number">2</span> <span class="number">5</span><span class="number">-2</span> <span class="number">0</span> <span class="number">4</span></span><br><span class="line">P5 <span class="number">4</span> <span class="number">2</span> <span class="number">4</span><span class="number">-3</span> <span class="number">1</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>
<h3 id="以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。"><a href="#以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。" class="headerlink" title="以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。"></a>以上两组样例都可以完美运行，暂时来看代码没有什么缺陷，如果找到bug再来修复。</h3><hr>
<h2 id="注释版："><a href="#注释版：" class="headerlink" title="注释版："></a>注释版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>];<span class="comment">//avallable[a]=b 代表系统中全部资源a总量为b</span></span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">100</span>];<span class="comment">//sum[a]=b 代表编号为a的资源总量为b（已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> cha[<span class="number">100</span>];<span class="comment">//cha[a]=b 代表编号为a的资源还剩b（即资源总量-已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> need[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//need[a][b]=c 代表编号为a的进程的b类资源还需要c</span></span><br><span class="line"><span class="keyword">int</span> allocation[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//allocati[a][b]=c 代表已经分配给进程编号为a的b类资源c</span></span><br><span class="line"><span class="keyword">int</span> maxn[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//maxn[a][b]=c 代表进程编号为a的进程总共需要b类资源c</span></span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">//n代表进程个数 m代表资源类数</span></span><br><span class="line"><span class="keyword">int</span> que[<span class="number">100</span>];<span class="comment">//模拟队列 用来保存安全序列</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];<span class="comment">//标记数组 查找安全序列的时候需要对已经在队列中的进程标记，防止多次执行同一个进程</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span><span class="comment">//检查函数 用来判断进程序列是否安全 如果安全同时计算出安全序列并把它保存到que数组中</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));<span class="comment">//初始值为true，即所有进程暂时都没有进入安全序列</span></span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;<span class="comment">//k用来记录当前安全序列中进程的个数。ans用来记录上一次进入安全序列的进程编号，该变量可以判断进程是否安全</span></span><br><span class="line">    i=<span class="number">0</span>;<span class="comment">//对i进行初始化 即首先对编号为0的进程开始检测</span></span><br><span class="line">    ans=i;<span class="comment">//让ans等于i</span></span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)<span class="comment">//while循环 当安全序列中进程的个数小于总进程数，即安全序列没有找全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历每一个资源类数</span></span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)<span class="comment">//如果当前进程所需的资源大于系统中剩余的资源或者该进程已经出现在安全序列中的话就break 跳出循环</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)<span class="comment">//如果j等于m的话 就说明上面的break没有被执行到，也就代表着当前进程的m类资源都小于系统中剩余的资源（即系统可以对其分配资源）同时，当前进程没有出现在安全序列中（如果出现在安全序列中我们就不需要再对其判断）</span></span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;<span class="comment">//把该进程放入安全队列中</span></span><br><span class="line">            ans=i;<span class="comment">//更改ans的值</span></span><br><span class="line">            book[i]=<span class="literal">false</span>;<span class="comment">//更改标记数组的值，代表该进程已经进入安全序列了，在以后的判断中不需要再对该进程进行判断</span></span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)<span class="comment">//遍历m个资源，释放该进程所占有的资源</span></span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;<span class="comment">//i++，遍历下一个进程</span></span><br><span class="line">        i%=n;<span class="comment">//对n取模，因为while循环不确定循环多少次，所以要对n取模，确保i在[0,n)之间</span></span><br><span class="line">        <span class="keyword">if</span>(i==ans)<span class="comment">//如果i==ans的话就说明 经过一轮循环 遍历过所有进程，但是在这轮循环中没有进程进去安全序序列（如果进入安全序列的话ans就会更新），即说明剩下的进程请求不会被系统接纳</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//返回 false 说明该进程序列不安全</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//反之 如果前面没有返回ralse 同时k==n了 即说明所有进程都已进入安全序列，则说明该进程序列时安全的 同时返回true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];<span class="comment">//记录进程名字 例如P0,P1,P2</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入进程个数n</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//如果资源类数m</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);<span class="comment">//分别读入系统中全部的资源总量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：P0 2 17 10 6-1 9 3 2(其中数字个数取决于输入的资源类数m)\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);<span class="comment">//进程的名字</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);<span class="comment">//进程需要的总资源</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);<span class="comment">//系统已经分配给进程的资源</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);<span class="comment">//用来输出A,B,C…… 代表资源A  资源B  资源C ……</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);<span class="comment">//输出当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果检查函数返回值是true，即代表该进程序列是安全的</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果此时系统状态不安全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="最终版："><a href="#最终版：" class="headerlink" title="最终版："></a>最终版：</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//编译语言 c++</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Coding author 计科1905孙黎明</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">int</span> avallable[<span class="number">100</span>];<span class="comment">//avallable[a]=b 代表系统中全部资源a总量为b</span></span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">100</span>];<span class="comment">//sum[a]=b 代表编号为a的资源总量为b（已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> cha[<span class="number">100</span>];<span class="comment">//cha[a]=b 代表编号为a的资源还剩b（即资源总量-已经给进程分配的）</span></span><br><span class="line"><span class="keyword">int</span> need[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//need[a][b]=c 代表编号为a的进程的b类资源还需要c</span></span><br><span class="line"><span class="keyword">int</span> allocation[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//allocati[a][b]=c 代表已经分配给进程编号为a的b类资源c</span></span><br><span class="line"><span class="keyword">int</span> maxn[<span class="number">100</span>][<span class="number">100</span>];<span class="comment">//maxn[a][b]=c 代表进程编号为a的进程总共需要b类资源c</span></span><br><span class="line"><span class="keyword">int</span> n,m;<span class="comment">//n代表进程个数 m代表资源类数</span></span><br><span class="line"><span class="keyword">int</span> que[<span class="number">100</span>];<span class="comment">//模拟队列 用来保存安全序列</span></span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">100</span>];<span class="comment">//标记数组 查找安全序列的时候需要对已经在队列中的进程标记，防止多次执行同一个进程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initialization</span><span class="params">()</span><span class="comment">//清空函数，把所有变量清空，为下一次计算安全序列做准备</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(sum,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(sum));</span><br><span class="line">    <span class="built_in">memset</span>(cha,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(cha));</span><br><span class="line">    <span class="built_in">memset</span>(need,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(need));</span><br><span class="line">    <span class="built_in">memset</span>(que,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(que));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">()</span><span class="comment">//检查函数 用来判断进程序列是否安全 如果安全同时计算出安全序列并把它保存到que数组中</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(book,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(book));<span class="comment">//初始值为true，即所有进程暂时都没有进入安全序列</span></span><br><span class="line">    <span class="keyword">int</span> i,j,l,k=<span class="number">0</span>,ans;<span class="comment">//k用来记录当前安全序列中进程的个数。ans用来记录上一次进入安全序列的进程编号，该变量可以判断进程是否安全</span></span><br><span class="line">    i=<span class="number">0</span>;<span class="comment">//对i进行初始化 即首先对编号为0的进程开始检测</span></span><br><span class="line">    ans=i;<span class="comment">//让ans等于i</span></span><br><span class="line">    <span class="keyword">while</span>(k&lt;n)<span class="comment">//while循环 当安全序列中进程的个数小于总进程数，即安全序列没有找全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历每一个资源类数</span></span><br><span class="line">            <span class="keyword">if</span>(cha[j]&lt;need[i][j]||book[i]==<span class="literal">false</span>)<span class="comment">//如果当前进程所需的资源大于系统中剩余的资源或者该进程已经出现在安全序列中的话就break 跳出循环</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(j==m)<span class="comment">//如果j等于m的话 就说明上面的break没有被执行到，也就代表着当前进程的m类资源都小于系统中剩余的资源（即系统可以对其分配资源）同时，当前进程没有出现在安全序列中（如果出现在安全序列中我们就不需要再对其判断）</span></span><br><span class="line">        &#123;</span><br><span class="line">            que[k++]=i;<span class="comment">//把该进程放入安全队列中</span></span><br><span class="line">            ans=i;<span class="comment">//更改ans的值</span></span><br><span class="line">            book[i]=<span class="literal">false</span>;<span class="comment">//更改标记数组的值，代表该进程已经进入安全序列了，在以后的判断中不需要再对该进程进行判断</span></span><br><span class="line">            <span class="keyword">for</span>(l=<span class="number">0</span>; l&lt;m; l++)<span class="comment">//遍历m个资源，释放该进程所占有的资源</span></span><br><span class="line">                cha[l]+=allocation[i][l];</span><br><span class="line">        &#125;</span><br><span class="line">        i++;<span class="comment">//i++，遍历下一个进程</span></span><br><span class="line">        i%=n;<span class="comment">//对n取模，因为while循环不确定循环多少次，所以要对n取模，确保i在[0,n)之间</span></span><br><span class="line">        <span class="keyword">if</span>(i==ans)<span class="comment">//如果i==ans的话就说明 经过一轮循环 遍历过所有进程，但是在这轮循环中没有进程进去安全序序列（如果进入安全序列的话ans就会更新），即说明剩下的进程请求不会被系统接纳</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//返回 false 说明该进程序列不安全</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//反之 如果前面没有返回ralse 同时k==n了 即说明所有进程都已进入安全序列，则说明该进程序列时安全的 同时返回true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="keyword">int</span> flag;<span class="comment">//记录预分配进程编号</span></span><br><span class="line">    <span class="keyword">char</span> process[<span class="number">100</span>][<span class="number">5</span>];<span class="comment">//记录进程名字 例如P0,P1,P2</span></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>];<span class="comment">//保存预分配进程名称</span></span><br><span class="line">    <span class="keyword">int</span> before[<span class="number">100</span>];<span class="comment">//before[a]=b 代表预分配进程需要a类资源的数量为b</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入进程个数n，以及资源类数m（资源默认为A，B，C，D……）\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;n=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);<span class="comment">//读入进程个数n</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;m=&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);<span class="comment">//如果资源类数m</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入全部资源总量：&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;avallable[i]);<span class="comment">//分别读入系统中全部的资源总量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入在某时刻的资源分配情况表：\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;进程名称\t进程所需最大资源数量\t系统已经分配给进程的资源数\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;格式例如：\nP0\t\t2 17 10 6\t\t1 9 3 2  (数字个数取决于资源类数）\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//读入进程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,process[i]);<span class="comment">//进程的名字</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;maxn[i][j]);<span class="comment">//进程需要的总资源</span></span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)<span class="comment">//遍历m类资源</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;allocation[i][j]);<span class="comment">//系统已经分配给进程的资源</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n1.此时系统中可利用的资源向量&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,<span class="number">65</span>+i);<span class="comment">//用来输出A,B,C…… 代表资源A  资源B  资源C ……</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;为:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>,i+<span class="number">65</span>,cha[i]);<span class="comment">//输出当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2.利用银行家算法判断此时刻系统状态是否安全：\n&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果检查函数返回值是true，即代表该进程序列是安全的</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果此时系统状态不安全</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;不安全\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;3.因为系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">initialization</span>();<span class="comment">//清空函数 清空变量的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;4.若进程x提出请求y，系统能否将资源分配给它？\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;例如：\nx:P0\ny：0 1 1 0\nps：其中数字个数取决于资源类数\n\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;x:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);<span class="comment">//读入预分配进程的名称</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;y:&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;before[i]);<span class="comment">//分别读入预分配进程所需的各类资源数量</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)<span class="comment">//遍历所有进程</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(process[i],str)==<span class="number">0</span>)<span class="comment">//如果发现进程名称等于预分配进程名称，即找到对应的进程</span></span><br><span class="line">        &#123;</span><br><span class="line">            flag=i;<span class="comment">//用变量flag标记进程编号</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        allocation[flag][i]+=before[i];<span class="comment">//由于预分配，所以改变原本系统分配给该进程的资源数量</span></span><br><span class="line">    <span class="comment">/******************************/</span> <span class="comment">//该部分与上面相同，作用是用来处理数据 计算所需要数据的值</span></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            sum[j]+=allocation[i][j];<span class="comment">//计算系统一共分配的编号为j的资源数目（遍历每一个进程）</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">        cha[i]=avallable[i]-sum[i];<span class="comment">//计算当前系统中还剩编号为i的资源的数目</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;m; j++)</span><br><span class="line">            need[i][j]=maxn[i][j]-allocation[i][j];<span class="comment">//计算编号为i的进程还需要编号为j的资源数目</span></span><br><span class="line">    <span class="comment">/******************************/</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>())<span class="comment">//如果系统状态安全，且存在安全序列</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;系统能否把资源预分配给它？能\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;预分配后安全序列为：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>,process[que[i]]);<span class="comment">//按顺序输出进程的名字</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//如果系统不安全，也不存在安全序列</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;系统能否把资源预分配给它？不能\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;因为预分配后系统状态不安全，所以无法给出安全序列。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="输入样例1："><a href="#输入样例1：" class="headerlink" title="输入样例1："></a>输入样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">4</span></span><br><span class="line"><span class="number">24</span> <span class="number">28</span> <span class="number">25</span> <span class="number">31</span></span><br><span class="line">P0              <span class="number">2</span> <span class="number">17</span> <span class="number">10</span> <span class="number">6</span>               <span class="number">1</span> <span class="number">9</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line">P1              <span class="number">11</span> <span class="number">6</span> <span class="number">12</span> <span class="number">13</span>              <span class="number">9</span> <span class="number">1</span> <span class="number">6</span> <span class="number">5</span></span><br><span class="line">P2              <span class="number">0</span> <span class="number">0</span> <span class="number">13</span> <span class="number">11</span>               <span class="number">0</span> <span class="number">0</span> <span class="number">7</span> <span class="number">4</span></span><br><span class="line">P3              <span class="number">4</span> <span class="number">15</span> <span class="number">8</span> <span class="number">8</span>                <span class="number">1</span> <span class="number">6</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P4              <span class="number">9</span> <span class="number">11</span> <span class="number">9</span> <span class="number">9</span>                <span class="number">5</span> <span class="number">8</span> <span class="number">2</span> <span class="number">9</span></span><br><span class="line">P1</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="输出样例1："><a href="#输出样例1：" class="headerlink" title="输出样例1："></a>输出样例1：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>此时系统中可利用的资源向量ABCD为:</span><br><span class="line">A:<span class="number">8</span></span><br><span class="line">B:<span class="number">4</span></span><br><span class="line">C:<span class="number">6</span></span><br><span class="line">D:<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>安全序列为：</span><br><span class="line">P2 P4 P0 P1 P3</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？能</span><br><span class="line"></span><br><span class="line">预分配后安全序列为：</span><br><span class="line">P2 P4 P0 P1 P3</span><br></pre></td></tr></table></figure>
<h3 id="输入样例2："><a href="#输入样例2：" class="headerlink" title="输入样例2："></a>输入样例2：</h3><figure class="highlight plaintext"><figcaption><span>3</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">17 5 20</span><br><span class="line">P1              5 5 9                   2 1 2</span><br><span class="line">P2              5 3 6                   4 0 2</span><br><span class="line">P3              4 0 11                  4 0 5</span><br><span class="line">P4              4 2 5                   2 0 4</span><br><span class="line">P5              4 2 4                   3 1 4</span><br><span class="line">P2</span><br><span class="line">0 3 4</span><br></pre></td></tr></table></figure>
<h3 id="输出样例2："><a href="#输出样例2：" class="headerlink" title="输出样例2："></a>输出样例2：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">A:2</span><br><span class="line">B:3</span><br><span class="line">C:3</span><br><span class="line"></span><br><span class="line">2.利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line">3.安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3 </span><br><span class="line"></span><br><span class="line">4.若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？不能</span><br><span class="line"></span><br><span class="line">因为预分配后系统状态不安全，所以无法给出安全序列。</span><br></pre></td></tr></table></figure>

<h3 id="输入样例3："><a href="#输入样例3：" class="headerlink" title="输入样例3："></a>输入样例3：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">17</span> <span class="number">5</span> <span class="number">20</span></span><br><span class="line">P1              <span class="number">5</span> <span class="number">5</span> <span class="number">9</span>                   <span class="number">2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line">P2              <span class="number">5</span> <span class="number">3</span> <span class="number">6</span>                   <span class="number">4</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line">P3              <span class="number">4</span> <span class="number">0</span> <span class="number">11</span>                  <span class="number">4</span> <span class="number">0</span> <span class="number">5</span></span><br><span class="line">P4              <span class="number">4</span> <span class="number">2</span> <span class="number">5</span>                   <span class="number">2</span> <span class="number">0</span> <span class="number">4</span></span><br><span class="line">P5              <span class="number">4</span> <span class="number">2</span> <span class="number">4</span>                   <span class="number">3</span> <span class="number">1</span> <span class="number">4</span></span><br><span class="line">P4</span><br><span class="line"><span class="number">2</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例3："><a href="#输出样例3：" class="headerlink" title="输出样例3："></a>输出样例3：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>此时系统中可利用的资源向量ABC为:</span><br><span class="line">A:<span class="number">2</span></span><br><span class="line">B:<span class="number">3</span></span><br><span class="line">C:<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>利用银行家算法判断此时刻系统状态是否安全：</span><br><span class="line">安全</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3 </span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>若进程x提出请求y，系统能否将资源分配给它？</span><br><span class="line"></span><br><span class="line">系统能否把资源预分配给它？能</span><br><span class="line"></span><br><span class="line">预分配后安全序列为：</span><br><span class="line">P4 P5 P1 P2 P3</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>一、算法或原理的实现思想：<br>算法：算法的话是银行家算法，用于判断给定的序列是否安全，系统能否给他们分配相应的资源。</p>
<p>实现思想：我个人的实现思想就是模拟，银行家算法总的来说并不难，但是可能比较麻烦，需要一步步模拟，计算出每个进程所需要的资源，系统中每个资源所剩的数目等等。</p>
<p>遇到的困难：总体来说还可以，只要理解银行家算法整个过程，写起来就很好写了，要说难点的话，我代码的难点主要在check函数（检查函数）中，也是我整个代码最核心的部分，用来判断序列是否安全，以及求出相应的安全序列。我用了while循环，由于不确定循环次数，其中i%n也是很重要的，因为要保证编号位于[0,1)之前，同时用que数组模拟队列，用来保存安全序列，其中在进行预分配前需要把之前计算的一些数据清零（因为那是前一次处理的参与数据，不清零的话会影响后续数据的计算），在敲的时候我没有意识到这一点，然后测数据的时候出现了错误，我才意识到需要清零。</p>
<p>可以改进的地方：我的代码中有一部分用了两次,就是/***/框中的那部分，其实可以把它单独写成一个处理函数，这样在对它进行二次调用的时候就可以直接调用函数了，思路上并没有什么改变，但是可以使代码看起来更整洁。</p>
<p>ps：我所测得数据均是网络信息综合教育平台上《操作系统》的在线测试题，即银行家算法随堂测试1和银行家算法随堂测试2</p>
<p>四、参考文献：<br><a target="_blank" rel="noopener" href="http://etcnew.sdut.edu.cn/meol/jpk/course/layout/newpage1/index.jsp?courseId=45133">参考网址</a>（山东理工大学网络信息综合教育平台《操作系统》在线测试）参考输入样例和答案。<br>没有参考其它书籍和同学交流。</p>
<p>五、感想体会或收获：<br>更加熟悉银行家算法了，因为在敲代码之前我又复习了一下银行家算法，把网络教学平台上的两个在线测试又做了一遍，复习了一下，然后就开始敲代码，在理解了算法之后敲代码就比较简单了，就是按照做题思路来敲，锻炼了动手能力，也对银行家算法了解更深了。</p>
<p>注：另外还有一些完整的解题思路以及我改代码的整个过程都放到了博客：<a href="https://sun-dawn.github.io/">博客链接</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/28/%E9%93%B6%E8%A1%8C%E5%AE%B6%E7%AE%97%E6%B3%95/" data-id="ckp9sq7ty00a5ostnetvkew01" data-title="银行家算法" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-C&amp;C++中强大的库函数" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/" class="article-date">
  <time class="dt-published" datetime="2020-11-26T07:25:01.000Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E8%AE%B0%E5%BD%95/">记录</a>►<a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>►<a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/">C&amp;C++中强大的库函数</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><p>sort（）//排序；<br>用法略</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="最大公约数"><a href="#最大公约数" class="headerlink" title="最大公约数"></a>最大公约数</h1><p>__gcd（n,m）//求n,m的最大公约数</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="数字转化成字符串"><a href="#数字转化成字符串" class="headerlink" title="数字转化成字符串"></a>数字转化成字符串</h1><p>sprintf(str,”%d”,n)//把数字n转换成字符串，存到str里</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="built_in">sprintf</span>(str,<span class="string">&quot;%d&quot;</span>,num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>double类型的也可以，不过好像只能保留6位小数，然后四舍五入，还有待深究<br><img src="https://img-blog.csdnimg.cn/20201017213406119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串转化成数字"><a href="#字符串转化成数字" class="headerlink" title="字符串转化成数字"></a>字符串转化成数字</h1><p>atoi()//把字符串转换成数字，如果输入不符合要求的字符串（例如abcde，不是数字）则会输出0</p>
<p>注：</p>
<p>double atof(const char *s) 将s所指向的字符串转换成实数 实数值</p>
<p>int atoi(const char *s) 将s所指向的字符串转换成整数 整数值</p>
<p>long atol(const char *s) 将s所指的字符串转换成长整数 长整数值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    num=<span class="built_in">atoi</span>(a);<span class="comment">//整数类型</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外double类型好像只能保留6位小数，也是四舍五入（四舍五入不确定似乎有时候也并不是四舍五入例如123.4567895就输出123.456789，这里还有待商榷）<br><img src="https://img-blog.csdnimg.cn/20201018134942431.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="拷贝字符串"><a href="#拷贝字符串" class="headerlink" title="拷贝字符串"></a>拷贝字符串</h1><p>strncpy(b,a,n)//把字符串a中前n个元素赋值给字符串b，如果a中不满n个元素则全部赋值</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>],b[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">memset</span>(b,<span class="number">0</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(b));</span><br><span class="line">    <span class="built_in">strncpy</span>(b,a,<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018125436880.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20201018125538129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h1><p>strcat(a,b)//把字符串a和字符串b连接起来 存到字符串a里面</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>],b[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,b);</span><br><span class="line">    <span class="built_in">strcat</span>(a,b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018125959163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="下取整与上取整"><a href="#下取整与上取整" class="headerlink" title="下取整与上取整"></a>下取整与上取整</h1><p>floor()//用于输出浮点类型中小于此数的最大整数</p>
<p>ps:floor(n+0.5)可用于进行四舍五入的处理</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>,&amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="built_in">floor</span>(a));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018130414119.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>如果直接%f输出的话好像默认保留6位小数，当然可以进行扩展例如%.10f就会保留10位小数</p>
<p>如果想要整数的话%.f输出<br><img src="https://img-blog.csdnimg.cn/20201018130644532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>ceil()//用于输出浮点类型中大于此数的最大整数<br>用法和floor类似，如果想要整数的话也是%.f输出<br><img src="https://img-blog.csdnimg.cn/20201018130850362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="求π"><a href="#求π" class="headerlink" title="求π"></a>求π</h1><p>atan()//用来求π的值：atan(1)=π/4 π=4.0*atan（1）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.10f\n&quot;</span>,<span class="number">4.0</span>*<span class="built_in">atan</span>(<span class="number">1</span>));<span class="comment">//输出3.1415926536</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h1><p>lower_bound()//查找有序区间[first，last]中第一个大于等于val的位置</p>
<blockquote>
<p>函数原型：lower_bound(int* first,int* last,int val);</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,a[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)</span><br><span class="line">        a[i]=i+<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*<span class="built_in">lower_bound</span>(a,a+<span class="number">9</span>,<span class="number">6</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018131657663.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br>上图代码返回的是在数组a中第一个大于6的值也就是7<br>这个函数返回的是指针，如果想求出第一个大于key的值的话前面需要加*号，也就是int ans=*upper_bound(a,a+k,key);（如上图代码）；如果想求出第一个大于key的值的下标的话，就是int ans=upper_bound(a,a+k,key)-a;还有一点因为是区间是左闭右开，所以是a和a+n，可以和sort对比记忆（几乎差不多）<br><img src="https://img-blog.csdnimg.cn/20210321173707812.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>upper_bound（）//大致和lower_bound()相同，不过查找的是有序区间[first，last)中第一个大于x的位置<br><img src="https://img-blog.csdnimg.cn/20201018132015249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"><br><img src="https://img-blog.csdnimg.cn/20210405210504258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h1><p>reverse()//将[first,last)范围内的字符顺序反转</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,a);</span><br><span class="line">    <span class="built_in">reverse</span>(a,a+<span class="built_in">strlen</span>(a));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201018132330740.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="浮点数取余"><a href="#浮点数取余" class="headerlink" title="浮点数取余"></a>浮点数取余</h1><p>fmod(x,y)//求x%y的余数（用于double类型）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> a=<span class="number">1.2</span>,b=<span class="number">1.5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="built_in">fmod</span>(b,a));<span class="comment">//输出0.300000</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h1><p>strtol()函数 用于long int</p>
<p>strtoll()函数 用于long long int</p>
<blockquote>
<p>函数原型：long int strtol(const char *nptr, char **endptr, int base)<br>base是要转化的数的进制，非法字符会赋值给endptr，nptr是要转化的字符，例如:</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10000</span>];</span><br><span class="line">    <span class="keyword">char</span> *a;</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">    ans=<span class="built_in">strtol</span>(str, &amp;a, <span class="number">16</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中a保存的是垃圾字符，即不满足转化进制的，十六进制中a-f或A-F为合法，其他字符不合法<br><img src="https://img-blog.csdnimg.cn/20201126152227389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="string替换"><a href="#string替换" class="headerlink" title="string替换"></a>string替换</h1><p>replace()函数：用于字符串（string类型）的替换<br><img src="https://img-blog.csdnimg.cn/20210315142219296.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br><img src="https://img-blog.csdnimg.cn/20210315142640389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>replace函数有3个参数，分别是：下标（从0开始），从下标开始向后多少位（包含下标，可以理解为左闭右开），替换后的字符串。</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="string截取"><a href="#string截取" class="headerlink" title="string截取"></a>string截取</h1><p>substr() （从下标i开始，包括i）<br><img src="https://img-blog.csdnimg.cn/2021041920323476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>运行结果：<br><img src="https://img-blog.csdnimg.cn/20210419203342894.png"></p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="find-查找"><a href="#find-查找" class="headerlink" title="find()查找"></a>find()查找</h1><p>用于在string中查找某个字符串的位置，如果没有找到则返回-1<br><img src="https://img-blog.csdnimg.cn/20210423210847131.png"></p>
<p>输出:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>find函数可以有两个参数，第一个参数是一个字符串，即我们需要找的；第二个参数是从下标（包含）为几开始找 （默认下标从0开始）</p>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="字符串类型变数字类型"><a href="#字符串类型变数字类型" class="headerlink" title="字符串类型变数字类型"></a>字符串类型变数字类型</h1><p><img src="https://img-blog.csdnimg.cn/20210508202143863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70"><br>输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1231</span></span><br><span class="line"><span class="number">345.1230</span></span><br><span class="line"><span class="number">1234567898765</span></span><br></pre></td></tr></table></figure>
<hr>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="数字变字符串类型"><a href="#数字变字符串类型" class="headerlink" title="数字变字符串类型"></a>数字变字符串类型</h1><p><img src="https://img-blog.csdnimg.cn/20210508202307669.png"><br>输出：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2341234</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/26/C&C++%E4%B8%AD%E5%BC%BA%E5%A4%A7%E7%9A%84%E5%BA%93%E5%87%BD%E6%95%B0/" data-id="ckp9sq7pc0010ostn7tl81sq2" data-title="C&amp;C++中强大的库函数" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-G - Goodbye（素数综合运用）" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/11/G%20-%20Goodbye%EF%BC%88%E7%B4%A0%E6%95%B0%E7%BB%BC%E5%90%88%E8%BF%90%E7%94%A8%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2020-11-11T12:28:07.000Z" itemprop="datePublished">2020-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%95%B0%E8%AE%BA/">数论</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/11/G%20-%20Goodbye%EF%BC%88%E7%B4%A0%E6%95%B0%E7%BB%BC%E5%90%88%E8%BF%90%E7%94%A8%EF%BC%89/">G - Goodbye（素数综合运用）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/405629#problem/G">题目链接</a></h3><p>“Goodbye to the friends I’ve had, goodbye to my upstairs neighbor, goodbye to the kids downstairs, and anybody who lend me a favor.”</p>
<p>“Or, goodbye to the positive proper divisor?”</p>
<p>That game is popular these days. Two player take turns to choose a specific number and claim it. The player who takes the first turn chooses one positive proper divisor of given n. In the next rounds, player should choose one positive proper divisor (真因数) of the number claimed in the previous round. The player who can’t make a choice will win.</p>
<p>Formally, a positive proper divisor of n is a divisor of n, and it cannot be either 1 or n.</p>
<p>Now Chino is going to play this game with David. Chino always wants to win and meanwhile she wants to keep the chosen number as big as possible. If with the given n, Chino will win directly or fail anyway, you should also tell her.</p>
<p>Can you help Chino to choose her answer in the first round?</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains one integer T (1≤T≤103)denoting the count of testcases.</p>
<p>For each testcase, one line with one integer n (1≤n≤105)<br>denoting the given n in one game.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each testcase, you should output the biggest choice, or 0 when Chino will win directly, or −1 when Chino will fail anyway.</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">666</span></span><br></pre></td></tr></table></figure>

<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">-1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">111</span></span><br></pre></td></tr></table></figure>

<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>a和b两个人玩游戏，a给了我们钱（大雾）所以我们要让a赢。给一个数字，两个人轮流取这个数的真因数（不能包含1和这个数本身），谁不能取了谁就赢。（a先取）</p>
<p>样例解释：3这个数字没有真因数，所以a没法取，a直接获胜，输出0。4这个数字的真因数只有2，所以a取2，然后轮到b取，2这个数字没有真因数，所以b没法取了，b获胜输出-1。8这个数字，a先取4，然后b取2，然后a没法取了，a获胜。（如果a获胜的开局有多个就输出数字最大的那一个），666这个数字，a先取111，然后b只能取3或者37，这两个数字都没有真因数，所以a获胜。</p>
<p>&nbsp;</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>其实归根到底就是看到最后的那个数字是不是质数，如果谁先取到质数谁就输了，因为下一个人一定没办法再取了，所以我们尽量要让b取到质数（谁让我们收a的黑钱了呢doge）。</p>
<p>首先我们假设b最后取的质数是k，那么这个k应该是所给数字n的最大质因子，为什么呢？<br>1.我们要让b取质数，2.我们要让a开局取得数字尽量大，这样一来如果b取得的是最大质因子，那么就可以保证上面两种情况.<br>我们再看666那个例子，到最后b只能从111中取真因数，而111这个数字的真因数只有37和3，所以b只能取质数。同理我们可以让a选的那个数字是两个质数相乘的形式，这样一来b只能从两个质数里面选，不管他选什么，他都是输定了，而37刚好是666的最大质因数，没错！这就是关键，a所选的那个数字=一个质数×所给数字n的最大质因数。那么这”一个质数“怎么求呢，题目说了要让a取的数字尽量大，所以我们也要让这”一个质数“尽量大，同时我们需要满足n%（一个质数*n的最大质因数)=0，也就是说你a取得数字得是n的真因数。另外如果数字n一开始就是质数的话直接输出0（a必赢），如果数字n是质数×质数的形式的话直接输出-1（a必输，因为我们就是用这种方法对付b的）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">bool</span> is_prime[<span class="number">100010</span>];</span><br><span class="line"><span class="keyword">bool</span> factor[<span class="number">100010</span>];</span><br><span class="line"><span class="keyword">int</span> p,book[<span class="number">100010</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> n)</span><span class="comment">//从1-n的素数表</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="built_in">memset</span>(factor,<span class="literal">true</span>,<span class="built_in"><span class="keyword">sizeof</span></span>(factor));</span><br><span class="line">    factor[<span class="number">0</span>]=factor[<span class="number">1</span>]=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(factor[i])</span><br><span class="line">            book[p++]=i;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;p&amp;&amp;book[j]*i&lt;=n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            factor[book[j]*i]=<span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(i%book[j]==<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetMax</span><span class="params">(<span class="keyword">int</span> a)</span><span class="comment">//求数字a的最大质因子</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a==<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>; i*i&lt;=a; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(a%i==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">GetMax</span>(a/i)&gt;<span class="built_in">GetMax</span>(i)?<span class="built_in">GetMax</span>(a/i):<span class="built_in">GetMax</span>(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> n)</span><span class="comment">//判断数字n是不是质数×质数的形式</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>; i&lt;=<span class="built_in">sqrt</span>(n); i++)</span><br><span class="line">        <span class="keyword">if</span>(n%i==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span>(factor[i]&amp;&amp;factor[n/i])</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,n,i;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="built_in">prime</span>(<span class="number">100010</span>);<span class="comment">//处理素数表</span></span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">GetMax</span>(n)==n)<span class="comment">//如果一个数字的最大素数因子是他本身，那么他就是个素数</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(<span class="built_in">check</span>(n))</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(i=n/<span class="built_in">GetMax</span>(n); i&gt;=<span class="number">2</span>; i--)<span class="comment">//倒着找，从大到小找，找到满足条件的直接break</span></span><br><span class="line">                <span class="keyword">if</span>(factor[i]&amp;&amp;n%(i*<span class="built_in">GetMax</span>(n))==<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,i*<span class="built_in">GetMax</span>(n));</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这题真的是质数的亲儿子，用到了很多质数的知识：素数表（素数的快速判定）、求一个数的最大质因子、判断一个数是不是质数×质数的形式……</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/11/G%20-%20Goodbye%EF%BC%88%E7%B4%A0%E6%95%B0%E7%BB%BC%E5%90%88%E8%BF%90%E7%94%A8%EF%BC%89/" data-id="ckp9sq7pj001dostn6xyw48xu" data-title="G - Goodbye（素数综合运用）" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-B - Bin Packing" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/11/B%20-%20Bin%20Packing/" class="article-date">
  <time class="dt-published" datetime="2020-11-11T11:59:12.000Z" itemprop="datePublished">2020-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%9A%B4%E5%8A%9B/">暴力</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/11/B%20-%20Bin%20Packing/">B - Bin Packing</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/406549#problem/B">题目链接</a></h3><p>Packing items into a bin is well known as packing problem, and Fish is studying it too. As a beginner, he starts with 2-dimension-version problem with 2</p>
<p>rectangle-shape items. He just wants to find a convex polygon with the smallest area so that these two items can be well included in it. You should notice that these two items can not overlap each other and you can shift or rotate them in the plane if you like.</p>
<p>Please help Fish solve the problem.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of input contains an integer T, representing the number of test cases. Then following T lines, each line representing one test case.</p>
<p>For each test case there are four integers w1,h1,w2,h2<br>separated by one space telling the width and length of these two items respectively.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, you should output Case x: y in one line, where x indicates the case number starting from 1 and y represents the smallest area.</p>
<p>Your answers will be consider correct if its absolute error does not exceed 10−6.</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>
<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Case <span class="number">1</span>: <span class="number">11.5</span></span><br><span class="line">Case <span class="number">2</span>: <span class="number">27.0</span></span><br></pre></td></tr></table></figure>

<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>首先t组输入，每组输入给你两组数据，每组数据包含两个数字，分别代表一个矩形的长和宽（也有可能是宽和长），让你求由这两个矩形组成最小的凸多边形的面积。</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>枚举每一种情况即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,j;</span><br><span class="line">    <span class="keyword">double</span> a,b,c,d,minn;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=t; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        minn=<span class="number">999999</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%lf%lf%lf%lf&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;d);</span><br><span class="line">        <span class="keyword">if</span>(d&gt;b)</span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(d-b)*a,minn);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(b-d)*c,minn);</span><br><span class="line">        <span class="keyword">if</span>(d&gt;a)</span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(d-a)*b,minn);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(a-d)*c,minn);</span><br><span class="line">        <span class="keyword">if</span>(a&gt;c)</span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(a-c)*d,minn);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(c-a)*b,minn);</span><br><span class="line">        <span class="keyword">if</span>(c&gt;b)</span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(c-b)*a,minn);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            minn=<span class="built_in">min</span>(<span class="number">0.5</span>*(b-c)*d,minn);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Case %d: %.6f\n&quot;</span>,j,a*b+c*d+minn);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/11/B%20-%20Bin%20Packing/" data-id="ckp9sq7p9000vostndrvmdjcl" data-title="B - Bin Packing" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-H - Hack a Contest" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/11/H%20-%20Hack%20a%20Contest/" class="article-date">
  <time class="dt-published" datetime="2020-11-11T11:59:12.000Z" itemprop="datePublished">2020-11-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%A8%A1%E6%8B%9F/">模拟</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/11/H%20-%20Hack%20a%20Contest/">H - Hack a Contest</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/406549#problem/H">题目链接</a></h3><p>Fish just participated in a programming contest. Before the final standing being public, he hacks the database and wants to change his result!</p>
<p>The database he accessed records the number of times he submitted for each problem and the result (AC or not) for each submission. Soon he finds out that even thought the time for each submission is stored in random order, he can not change it at all (neither the number of submissions for each problem). What he can modify is problem id and result for each submission. In order not to make things too strange, there should not be any submissions for a problem after he has already got an AC in this problem in the end.</p>
<p>You must have known that participants are ranked according to the most problems solved and then ranked by least penalty for those in the same place. The penalty is the sum of the time consumed for each problem solved. The time consumed for a solved problem is the time for its first AC submission, plus 20 for every previously not AC submissions for that problem.</p>
<p>Please help Fish find the best result he can get.</p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line of input contains an integer T, representing the number of test cases.</p>
<p>Then for each test case:</p>
<p>The first line contains two integers N,M, the number of submissions and number of problems.</p>
<p>The second line contains N integers ti, the time of each submission.</p>
<p>The third line contains M integers ci, the number of submissions on each problem.</p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test cases, you should output Case x: y, where x indicates the case number starting from 1, and y is the penalty for his best result.</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span> <span class="number">2</span></span><br><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">4</span> <span class="number">3</span></span><br><span class="line"><span class="number">10</span> <span class="number">20</span> <span class="number">30</span> <span class="number">40</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Case <span class="number">1</span>: <span class="number">100</span></span><br><span class="line">Case <span class="number">2</span>: <span class="number">90</span></span><br></pre></td></tr></table></figure>

<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>t组输入，每组输入先给你两个数n和m，分别代表尝试提交了n个题（如果一道题ac后就不会再提交）和ac了m道题，然后给出n个数字，代表提交的时间（这里给出的时间是绝对时间，例如第一个样例中的10 20 30 40，可以理解为10分钟的时候交了一次，20分钟的时候交了一次，也就是说20包含10，而不是10分钟交了一次，然后20分钟后又交了一次），再给出ac题目尝试提交的次数，最后问你最短的罚时时间是多少，如果wa了就会罚时20。</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>先解释下样例，由于题目中说可以“作弊修改”，其实翻译过来就是你可以更改每道题的时间顺序，再直白点说就是你可以排序，第一个样例我们分别在10分钟20分钟30分钟40分钟的时候交过题，然后一共ac了两道题，每道题交过两次，这两道题都是在第2次交的时候才ac的也就是说这两道题每道题都罚过一次时，那么时间就是20*2=40，然后我们再寻找提交ac的时间，第一道题由于我们wa了一次（10分钟的时候）所以我们在20分钟的时候ac了，时间+=20，第二道题我们在30分钟的时候wa了，时间+=40，所以最终答案就是100.</p>
<p>第二个样例：<br>有两道题一遍过，那我们让这两道题ac的时间分别为10和20（时间最少的前两个），然后时间+=20（第三道题罚时），再加上第三道题ac的时间40，所以答案等于90<br>总结：如果有题目一遍ac那么我们就让这个题目的时间尽量的小，如果题目不是一遍ac的我们就根据wa的次数相应的向后移动，直到找到一个相应较小的时间。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,n,m,a[<span class="number">100010</span>],b[<span class="number">15</span>],i,j,head;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> sum;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=t; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;b[i]);</span><br><span class="line">        head=<span class="number">0</span>;<span class="comment">//模拟指针</span></span><br><span class="line">        <span class="built_in">sort</span>(a,a+n);<span class="comment">//时间排序</span></span><br><span class="line">        <span class="built_in">sort</span>(b,b+m);<span class="comment">//题目提交次数排序</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">            <span class="keyword">if</span>(b[i]==<span class="number">1</span>)<span class="comment">//如果是一遍ac的</span></span><br><span class="line">                sum+=a[head++];<span class="comment">//加上当前最小的时间</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                head+=b[i]<span class="number">-1</span>;<span class="comment">//指针后移b[i]-1次</span></span><br><span class="line">                sum+=<span class="number">20</span>*(b[i]<span class="number">-1</span>)+a[head++];<span class="comment">//移动后相应最小的时间</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Case %d: %lld\n&quot;</span>,j,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/11/H%20-%20Hack%20a%20Contest/" data-id="ckp9sq7pk001fostn27b3gl1s" data-title="H - Hack a Contest" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-A - AD 2020 Gym - 102770A" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/02/A%20-%20AD%202020%20Gym%20-%20102770A/" class="article-date">
  <time class="dt-published" datetime="2020-11-02T13:30:56.000Z" itemprop="datePublished">2020-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%9A%B4%E5%8A%9B/">暴力</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/02/A%20-%20AD%202020%20Gym%20-%20102770A/">A - AD 2020 Gym - 102770A</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://vjudge.net/contest/402565#problem/A">题目链接</a></h3><p>2020 is the current year and is a leap year starting on Wednesday of the Gregorian calendar, the 2020th year of the Common Era (CE) and Anno Domini (AD) designations, the 20th year of the 3rd millennium, the 20th year of the 21st century, and the 1st year of the 2020s decade.</p>
<p>2020 has been designated as Year of the Nurse and Midwife by the World Health Organization. The United Nations has declared 2020 as the International Year of Plant Health. 2020 has been designated as International Year of Sound by the International Commission for Acoustics.</p>
<p>Because there are so many unforgettable things happening in 2020, somebody has now proposed that all dates with a substring containing “202” to be designated as the Day for Disaster Reduction. We represent a date in the format YYYYMMDD (for example, 21110202), then if 202 is a substring of this date, this day is the Day for Disaster Reduction.</p>
<p>Please write a program to compute how many Days for Disaster Reduction are there in all the dates between Y1<br>M1D1 and Y2M2D2 (both inclusive)? Note that you should take leap years into consideration. A leap year is a year that can be divided by 400 or can be divided by 4 but can’t be divided by 100. A leap year has 29 days in February, instead of the normal 28 days.</p>
<h3 id="输入："><a href="#输入：" class="headerlink" title="输入："></a>输入：</h3><p>The input contains multiple cases. The first line of the input contains a single positive integer T (1≤T≤105), the number of cases.</p>
<p>The first and only line of each case contains six integers Y1,M1,D1,Y2,M2,D2, which are described in the problem statement above.</p>
<p>It’s guaranteed that Y1M1D1 is not larger than Y2M2D2. Both Y1M1D1 and Y2M2D2 are between 20000101 and 99991231, and both dates are valid.</p>
<p>We kindly remind you that the size of the input and output of this problem can be large, so it’s recommended to use a faster I/O method. For example, in C++, you can use scanf/printf instead of cin/cout.</p>
<h3 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h3><p>For each case, print a single line containing a single integer, the answer.</p>
<h3 id="样例输入："><a href="#样例输入：" class="headerlink" title="样例输入："></a>样例输入：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2111</span> <span class="number">02</span> <span class="number">01</span> <span class="number">2111</span> <span class="number">02</span> <span class="number">03</span></span><br><span class="line"><span class="number">2202</span> <span class="number">01</span> <span class="number">01</span> <span class="number">2202</span> <span class="number">12</span> <span class="number">31</span></span><br><span class="line"><span class="number">2000</span> <span class="number">01</span> <span class="number">01</span> <span class="number">9999</span> <span class="number">12</span> <span class="number">31</span></span><br></pre></td></tr></table></figure>

<h3 id="样例输出："><a href="#样例输出：" class="headerlink" title="样例输出："></a>样例输出：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">365</span></span><br><span class="line"><span class="number">44294</span></span><br></pre></td></tr></table></figure>

<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>如果给定一个年份我们就可以直接得知这一年中有多少个日期含有202，所以我们把所给区间大体分为3部分，第一部分就是位于两个日期之间的整年，例如2000 01 01和2002 01 01，那么位于两个日期中的整年就是2001年，第二三部分就是2000这一年和2002这一年中所有日期中包含202的个数，最后把他们相加。（如果第一个日期和第二个日期的年份相同的话就只有1部分了，就是他们中间的那部分日期）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> data)</span><span class="comment">//判断是否闰年</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(data%<span class="number">4</span>==<span class="number">0</span>||(data%<span class="number">100</span>==<span class="number">0</span>&amp;&amp;data%<span class="number">400</span>!=<span class="number">0</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkyear</span><span class="params">(<span class="keyword">int</span> year)</span><span class="comment">//判断年份是否含有202</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(year/<span class="number">10</span>==<span class="number">202</span>||year%<span class="number">1000</span>==<span class="number">202</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checktwo</span><span class="params">(<span class="keyword">int</span> x)</span><span class="comment">//判断所给日期（包含年月日）是否含有202</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> year=x/<span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">int</span> month=(x%<span class="number">10000</span>)/<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> day=x%<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">if</span>(year/<span class="number">10</span>==<span class="number">202</span>||year%<span class="number">1000</span>==<span class="number">202</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(year%<span class="number">10</span>==<span class="number">2</span>&amp;&amp;month==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span>(month%<span class="number">10</span>==<span class="number">2</span>&amp;&amp;day==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> yue[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t,i,j,l,year1,month1,day1,year2,month2,day2,sum;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        sum=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d%d%d&quot;</span>,&amp;year1,&amp;month1,&amp;day1,&amp;year2,&amp;month2,&amp;day2);</span><br><span class="line">        <span class="keyword">for</span>(i=year1+<span class="number">1</span>; i&lt;=year2<span class="number">-1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">checkyear</span>(i))<span class="comment">//如果这年份中含有202，那么这一整年都是</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">check</span>(i))<span class="comment">//如果是闰年就是366天</span></span><br><span class="line">                    sum+=<span class="number">366</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    sum+=<span class="number">365</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i%<span class="number">10</span>==<span class="number">2</span>)<span class="comment">//如果是XXX2 XX XX类型的话</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(<span class="built_in">check</span>(i))<span class="comment">//如果是闰年就是2月的29天+12月02号</span></span><br><span class="line">                        sum+=<span class="number">30</span>;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        sum+=<span class="number">29</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span><span class="comment">//其余只有02月02号和12月02号符合要求</span></span><br><span class="line">                    sum+=<span class="number">2</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(year1!=year2)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(j=month1; j&lt;=<span class="number">12</span>; j++)<span class="comment">//第一个日期所在的年</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j==<span class="number">2</span>&amp;&amp;<span class="built_in">check</span>(year1))</span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=<span class="number">29</span>; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month1&amp;&amp;l&lt;day1)<span class="comment">//如果枚举的日期比第一个日期小</span></span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year1*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=yue[j]; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month1&amp;&amp;l&lt;day1)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year1*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=month2; j++)<span class="comment">//第二个日期所在的年</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(j==<span class="number">2</span>&amp;&amp;<span class="built_in">check</span>(year2))</span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=<span class="number">29</span>; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month2&amp;&amp;l&gt;day2)<span class="comment">//如果日期超过第二个日期的话</span></span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year2*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=yue[j]; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month2&amp;&amp;l&gt;day2)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year2*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(year1==year2)</span><br><span class="line">            <span class="keyword">for</span>(j=month1; j&lt;=month2; j++)</span><br><span class="line">                <span class="keyword">if</span>(j==<span class="number">2</span>&amp;&amp;<span class="built_in">check</span>(year1))</span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=<span class="number">29</span>; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month1&amp;&amp;l&lt;day1)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(j==month2&amp;&amp;l&gt;day2)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year1*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">for</span>(l=<span class="number">1</span>; l&lt;=yue[j]; l++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j==month1&amp;&amp;l&lt;day1)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(j==month2&amp;&amp;l&gt;day2)</span><br><span class="line">                            <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span>(<span class="built_in">checktwo</span>(year1*<span class="number">10000</span>+j*<span class="number">100</span>+l))</span><br><span class="line">                            sum++;</span><br><span class="line">                    &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/02/A%20-%20AD%202020%20Gym%20-%20102770A/" data-id="ckp9sq7p5000qostn6yfe519a" data-title="A - AD 2020 Gym - 102770A" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-回文日期" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/11/02/%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F/" class="article-date">
  <time class="dt-published" datetime="2020-11-02T13:30:56.000Z" itemprop="datePublished">2020-11-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%A8%A1%E6%8B%9F/">模拟</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/11/02/%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F/">回文日期</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/468/">题目链接</a></h3><p>在日常生活中，通过年、月、日这三个要素可以表示出一个唯一确定的日期。</p>
<p>牛牛习惯用 8 位数字表示一个日期，其中，前 4 位代表年份，接下来 2 位代表月份，最后 2 位代表日期。</p>
<p>显然：一个日期只有一种表示方法，而两个不同的日期的表示方法不会相同。</p>
<p>牛牛认为，一个日期是回文的，当且仅当表示这个日期的8位数字是回文的。</p>
<p>现在，牛牛想知道：在他指定的两个日期之间（包含这两个日期本身），有多少个真实存在的日期是回文的。</p>
<p>一个 8 位数字是回文的，当且仅当对于所有的 i(1≤i≤8) 从左向右数的第i个数字和第 9−i 个数字（即从右向左数的第 i 个数字）是相同的。</p>
<p>例如：</p>
<ul>
<li><p>对于2016年11月19日，用 8 位数字 20161119 表示，它不是回文的。</p>
</li>
<li><p>对于2010年1月2日，用 8 位数字 20100102 表示，它是回文的。</p>
</li>
<li><p>对于2010年10月2日，用 8 位数字 20101002 表示，它不是回文的。</p>
</li>
</ul>
<h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式:"></a>输入格式:</h3><p>输入包括两行，每行包括一个8位数字。</p>
<p>第一行表示牛牛指定的起始日期date1，第二行表示牛牛指定的终止日期date2。保证date1和date2都是真实存在的日期，且年份部分一定为4位数字，且首位数字不为0。</p>
<p>保证date1一定不晚于date2。</p>
<h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式:"></a>输出格式:</h3><p>输出共一行，包含一个整数，表示在date1和date2之间，有多少个日期是回文的。</p>
<h3 id="输入样例："><a href="#输入样例：" class="headerlink" title="输入样例："></a>输入样例：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">20110101</span></span><br><span class="line"><span class="number">20111231</span></span><br></pre></td></tr></table></figure>

<h3 id="输出样例："><a href="#输出样例：" class="headerlink" title="输出样例："></a>输出样例：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>由于是8位数，所以我们只枚举前4位，也就是年，然后根据年的对称把月和日补全，这样一来这个日期必定是回文的（因为我们就是这么构造的），然后我们只需要判断构造出来的这个日期是不是合法的就行，并且保证这个日期在所给定的两个日期中间即可。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> yue[<span class="number">13</span>] = &#123;<span class="number">0</span>, <span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> data)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> year=data/<span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">int</span> month=(data%<span class="number">10000</span>)/<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> day=data%<span class="number">100</span>;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(year&lt;<span class="number">1000</span>||year&gt;=<span class="number">10000</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(month&lt;<span class="number">1</span>||month&gt;<span class="number">12</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(year%<span class="number">4</span>==<span class="number">0</span>||(year%<span class="number">400</span>!=<span class="number">0</span>&amp;&amp;year%<span class="number">100</span>==<span class="number">0</span>))</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(flag==<span class="number">1</span>&amp;&amp;month==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(day&lt;<span class="number">1</span>||day&gt;<span class="number">29</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(day&lt;<span class="number">1</span>||day&gt;yue[month])</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,data,sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">10</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1000</span>; i&lt;<span class="number">10000</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">sprintf</span>(str,<span class="string">&quot;%d&quot;</span>,i);</span><br><span class="line">        <span class="built_in">reverse</span>(str,str+<span class="built_in">strlen</span>(str));</span><br><span class="line">        data=<span class="built_in">atoi</span>(str);</span><br><span class="line">        data+=i*<span class="number">10000</span>;</span><br><span class="line">        <span class="keyword">if</span>(data&gt;=n&amp;&amp;data&lt;=m&amp;&amp;<span class="built_in">check</span>(data))</span><br><span class="line">            sum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/11/02/%E5%9B%9E%E6%96%87%E6%97%A5%E6%9C%9F/" data-id="ckp9sq7s9004tostn93arb2d5" data-title="回文日期" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-1047 Student List for Course (25分)" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/28/1047%20Student%20List%20for%20Course%20(25%E5%88%86)/" class="article-date">
  <time class="dt-published" datetime="2020-10-28T12:28:33.000Z" itemprop="datePublished">2020-10-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%A8%A1%E6%8B%9F/">模拟</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/28/1047%20Student%20List%20for%20Course%20(25%E5%88%86)/">1047 Student List for Course (25分)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805342720868352/problems/994805433955368960">题目链接</a></h3><p><img src="https://img-blog.csdnimg.cn/20201028201852449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">5</span></span><br><span class="line">ZOE1 <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">ANN0 <span class="number">3</span> <span class="number">5</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line">BOB5 <span class="number">5</span> <span class="number">3</span> <span class="number">4</span> <span class="number">2</span> <span class="number">1</span> <span class="number">5</span></span><br><span class="line">JOE4 <span class="number">1</span> <span class="number">2</span></span><br><span class="line">JAY9 <span class="number">4</span> <span class="number">1</span> <span class="number">2</span> <span class="number">5</span> <span class="number">4</span></span><br><span class="line">FRA8 <span class="number">3</span> <span class="number">4</span> <span class="number">2</span> <span class="number">5</span></span><br><span class="line">DON2 <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">AMY7 <span class="number">1</span> <span class="number">5</span></span><br><span class="line">KAT3 <span class="number">3</span> <span class="number">5</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line">LOR6 <span class="number">4</span> <span class="number">2</span> <span class="number">4</span> <span class="number">1</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line">ANN0</span><br><span class="line">BOB5</span><br><span class="line">JAY9</span><br><span class="line">LOR6</span><br><span class="line"><span class="number">2</span> <span class="number">7</span></span><br><span class="line">ANN0</span><br><span class="line">BOB5</span><br><span class="line">FRA8</span><br><span class="line">JAY9</span><br><span class="line">JOE4</span><br><span class="line">KAT3</span><br><span class="line">LOR6</span><br><span class="line"><span class="number">3</span> <span class="number">1</span></span><br><span class="line">BOB5</span><br><span class="line"><span class="number">4</span> <span class="number">7</span></span><br><span class="line">BOB5</span><br><span class="line">DON2</span><br><span class="line">FRA8</span><br><span class="line">JAY9</span><br><span class="line">KAT3</span><br><span class="line">LOR6</span><br><span class="line">ZOE1</span><br><span class="line"><span class="number">5</span> <span class="number">9</span></span><br><span class="line">AMY7</span><br><span class="line">ANN0</span><br><span class="line">BOB5</span><br><span class="line">DON2</span><br><span class="line">FRA8</span><br><span class="line">JAY9</span><br><span class="line">KAT3</span><br><span class="line">LOR6</span><br><span class="line">ZOE1</span><br></pre></td></tr></table></figure>

<h2 id="方法1：（设置一个并行数组，每次存进去人名的标号，然后记录人名，输出的时候利用人名标号找到相应的人名）"><a href="#方法1：（设置一个并行数组，每次存进去人名的标号，然后记录人名，输出的时候利用人名标号找到相应的人名）" class="headerlink" title="方法1：（设置一个并行数组，每次存进去人名的标号，然后记录人名，输出的时候利用人名标号找到相应的人名）"></a>方法1：（设置一个并行数组，每次存进去人名的标号，然后记录人名，输出的时候利用人名标号找到相应的人名）</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;a[<span class="number">2600</span>];</span><br><span class="line"><span class="keyword">char</span> str[<span class="number">41000</span>][<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">strcmp</span>(str[a],str[b])&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,j,x,y;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s %d&quot;</span>,str[i],&amp;x);</span><br><span class="line">        <span class="keyword">while</span>(x--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;y);</span><br><span class="line">            a[y].<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,i,a[i].<span class="built_in">size</span>());</span><br><span class="line">        <span class="built_in">sort</span>(a[i].<span class="built_in">begin</span>(),a[i].<span class="built_in">end</span>(),cmp);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;a[i].<span class="built_in">size</span>(); j++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,str[a[i][j]]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="方法二：（把人名化成数字存起来，然后输出的时候再把数字转化成相应的人名）"><a href="#方法二：（把人名化成数字存起来，然后输出的时候再把数字转化成相应的人名）" class="headerlink" title="方法二：（把人名化成数字存起来，然后输出的时候再把数字转化成相应的人名）"></a>方法二：（把人名化成数字存起来，然后输出的时候再把数字转化成相应的人名）</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt;a[<span class="number">26</span>*<span class="number">26</span>*<span class="number">26</span>+<span class="number">15</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&lt;b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_id</span><span class="params">(<span class="keyword">char</span> str[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id=<span class="number">0</span>,i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)</span><br><span class="line">        id=id*<span class="number">26</span>+str[i]-<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    id=id*<span class="number">10</span>+str[<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,j,x,y;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s %d&quot;</span>,str,&amp;x);</span><br><span class="line">        <span class="keyword">while</span>(x--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;y);</span><br><span class="line">            <span class="keyword">int</span> id=<span class="built_in">get_id</span>(str);</span><br><span class="line">            a[y].<span class="built_in">push_back</span>(id);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>,i,a[i].<span class="built_in">size</span>());</span><br><span class="line">        <span class="built_in">sort</span>(a[i].<span class="built_in">begin</span>(),a[i].<span class="built_in">end</span>(),cmp);</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;a[i].<span class="built_in">size</span>(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,a[i][j]/<span class="number">10</span>/<span class="number">26</span>/<span class="number">26</span>%<span class="number">26</span>+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,a[i][j]/<span class="number">10</span>/<span class="number">26</span>%<span class="number">26</span>+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,a[i][j]/<span class="number">10</span>%<span class="number">26</span>+<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,a[i][j]%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/10/28/1047%20Student%20List%20for%20Course%20(25%E5%88%86)/" data-id="ckp9sq7ob0001ostngyscbk9f" data-title="1047 Student List for Course (25分)" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-1039 Course List for Student (25 分)" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/26/1039%20Course%20List%20for%20Student%20(25%20%E5%88%86)/" class="article-date">
  <time class="dt-published" datetime="2020-10-26T13:25:10.000Z" itemprop="datePublished">2020-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%9A%B4%E5%8A%9B/">暴力</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/26/1039%20Course%20List%20for%20Student%20(25%20%E5%88%86)/">1039 Course List for Student (25 分)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805342720868352/problems/994805447855292416">题目链接</a></h3><p><img src="https://img-blog.csdnimg.cn/20201026212105259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<h3 id="输入："><a href="#输入：" class="headerlink" title="输入："></a>输入：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">11</span> <span class="number">5</span></span><br><span class="line"><span class="number">4</span> <span class="number">7</span></span><br><span class="line">BOB5 DON2 FRA8 JAY9 KAT3 LOR6 ZOE1</span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line">ANN0 BOB5 JAY9 LOR6</span><br><span class="line"><span class="number">2</span> <span class="number">7</span></span><br><span class="line">ANN0 BOB5 FRA8 JAY9 JOE4 KAT3 LOR6</span><br><span class="line"><span class="number">3</span> <span class="number">1</span></span><br><span class="line">BOB5</span><br><span class="line"><span class="number">5</span> <span class="number">9</span></span><br><span class="line">AMY7 ANN0 BOB5 DON2 FRA8 JAY9 KAT3 LOR6 ZOE1</span><br><span class="line">ZOE1 ANN0 BOB5 JOE4 JAY9 FRA8 DON2 AMY7 KAT3 LOR6 NON9</span><br></pre></td></tr></table></figure>

<h3 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ZOE1 <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">ANN0 <span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">5</span></span><br><span class="line">BOB5 <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">JOE4 <span class="number">1</span> <span class="number">2</span></span><br><span class="line">JAY9 <span class="number">4</span> <span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">FRA8 <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">DON2 <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">AMY7 <span class="number">1</span> <span class="number">5</span></span><br><span class="line">KAT3 <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">LOR6 <span class="number">4</span> <span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">NON9 <span class="number">0</span></span><br></pre></td></tr></table></figure>
<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p><img src="https://img-blog.csdnimg.cn/20201026212609382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>用vector暴力，给每一个名字赋一个值，保证每个名字的值唯一且不会重复，然后暴力去找就行了</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector &lt;<span class="keyword">int</span>&gt; a[<span class="number">26</span>*<span class="number">26</span>*<span class="number">26</span>*<span class="number">10</span>+<span class="number">1</span>];<span class="comment">//用来记录名字，3个大写字母+1个数字</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getid</span><span class="params">(<span class="keyword">char</span> str[])</span><span class="comment">//把名字转换成数字记录</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> id=<span class="number">0</span>,i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++)</span><br><span class="line">        id=id*<span class="number">26</span>+str[i]-<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    id=id*<span class="number">10</span>+str[<span class="number">3</span>]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,i,num,sum,id;</span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">50</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<span class="comment">//n个学生</span></span><br><span class="line">    <span class="keyword">while</span>(m--)<span class="comment">//m个课程</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;num,&amp;sum);<span class="comment">//课程号是num，选课人数是sum</span></span><br><span class="line">        <span class="keyword">while</span>(sum--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);<span class="comment">//选课学生的名字</span></span><br><span class="line">            id=<span class="built_in">getid</span>(str);<span class="comment">//转换成数字</span></span><br><span class="line">            a[id].<span class="built_in">push_back</span>(num);<span class="comment">//存进vector里面</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(n--)<span class="comment">//遍历n个学生</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str);<span class="comment">//读入学生的名字</span></span><br><span class="line">        id=<span class="built_in">getid</span>(str);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>,str);</span><br><span class="line">        <span class="built_in">sort</span>(a[id].<span class="built_in">begin</span>(),a[id].<span class="built_in">end</span>());<span class="comment">//把该学生选的课程按课程号从小到大排序</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; %d&quot;</span>,a[id].<span class="built_in">size</span>());<span class="comment">//输出该学生一共选了多少课程</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;a[id].<span class="built_in">size</span>(); i++)<span class="comment">//分别输出课程对应的课程号</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot; %d&quot;</span>,a[id][i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/10/26/1039%20Course%20List%20for%20Student%20(25%20%E5%88%86)/" data-id="ckp9sq7o20000ostng4y6end9" data-title="1039 Course List for Student (25 分)" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-2020小米网络选拔赛I Walking Machine" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2020/10/26/2020%E5%B0%8F%E7%B1%B3%E7%BD%91%E7%BB%9C%E9%80%89%E6%8B%94%E8%B5%9BI%20Walking%20Machine/" class="article-date">
  <time class="dt-published" datetime="2020-10-26T12:07:07.000Z" itemprop="datePublished">2020-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/">搜索</a>►<a class="article-category-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/DFS/">DFS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/10/26/2020%E5%B0%8F%E7%B1%B3%E7%BD%91%E7%BB%9C%E9%80%89%E6%8B%94%E8%B5%9BI%20Walking%20Machine/">2020小米网络选拔赛I Walking Machine</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a target="_blank" rel="noopener" href="https://ac.nowcoder.com/login?callBack=/acm/contest/7501/I?&headNav=acm">题目链接</a></h3><p><img src="https://img-blog.csdnimg.cn/20201026195529199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MDM1NzIw,size_16,color_FFFFFF,t_70#pic_center"></p>
<h3 id="输入："><a href="#输入：" class="headerlink" title="输入："></a>输入：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">4</span></span><br><span class="line">DDSD</span><br><span class="line">AWAA</span><br><span class="line">WASD</span><br></pre></td></tr></table></figure>

<h3 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure>

<h3 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h3><p>The 6 cells are (1,4),(2,1),(3,1),(3,2),(3,3),(3,4)respectively.</p>
<h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>给出二维矩阵，让你找出能越界点的个数，WSAD分别代表上下左右，打fps游戏的兄弟应该都知道（滑稽</p>
<h3 id="解题思路："><a href="#解题思路：" class="headerlink" title="解题思路："></a>解题思路：</h3><p>我一开始想到的是dfs，遍历n*m个点，然后按照题目说的走（WSAD按规则dfs），但是超时了，后来我就想优化一下，因为这个题的路径是唯一的，这里说唯一的意思是如果你选定了一个点，那么你走的路是一定的，因为WSAD方向是一定的，你必须按照这个规则走，所以说我们可以记录一下哪些点是能出去的，哪些点是不能出去的，等到下次遍历到这个点我们就可以直接判断了不需要再dfs进去了（有点像递推和递归的区别）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m,sum=<span class="number">0</span>,flag,ans;<span class="comment">//flag作为可以出去点的开关，ans作为不能出去点的开关</span></span><br><span class="line"><span class="keyword">char</span> str[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">bool</span> book[<span class="number">1010</span>][<span class="number">1010</span>],e[<span class="number">1010</span>][<span class="number">1010</span>],q[<span class="number">1010</span>][<span class="number">1010</span>];<span class="comment">//e数组记录可以越界点的坐标，q数组记录不能越界点的坐标</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">1</span>||x&gt;n||y&lt;<span class="number">1</span>||y&gt;m||e[x][y]==<span class="number">1</span>)<span class="comment">//如果越界了或者这个点被标记过说明能越界</span></span><br><span class="line">    &#123;</span><br><span class="line">        sum++;</span><br><span class="line">        flag=<span class="number">1</span>;<span class="comment">//打开开关，一会dfs回溯要用到</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(q[x][y]==<span class="number">1</span>)<span class="comment">//如果这个点不能越界</span></span><br><span class="line">    &#123;</span><br><span class="line">        ans=<span class="number">1</span>;<span class="comment">//打开开关</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(str[x][y]==<span class="string">&#x27;W&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(book[x][y]==<span class="number">0</span>)<span class="comment">//这个点没走过</span></span><br><span class="line">        &#123;</span><br><span class="line">            book[x][y]=<span class="number">1</span>;<span class="comment">//标记为走过</span></span><br><span class="line">            <span class="built_in">dfs</span>(x<span class="number">-1</span>,y);<span class="comment">//按规则dfs下一个点</span></span><br><span class="line">            book[x][y]=<span class="number">0</span>;<span class="comment">//回溯取消标记，可以省下在主函数里面的memset</span></span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">1</span>)<span class="comment">//上一个点可以出去，那么这条路上所有的点都能出去</span></span><br><span class="line">                e[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans==<span class="number">1</span>)<span class="comment">//上一个点不可以出去，那么这条路上所有的点都能出去</span></span><br><span class="line">                q[x][y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//如果碰到一个已经被标记过的点（意味着进入循环了，例如上下左右）</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans=<span class="number">1</span>;<span class="comment">//打开开关</span></span><br><span class="line">            q[x][y]=<span class="number">1</span>;<span class="comment">//标记这个点出不去</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str[x][y]==<span class="string">&#x27;S&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(book[x][y]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            book[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(x+<span class="number">1</span>,y);</span><br><span class="line">            book[x][y]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">                e[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans==<span class="number">1</span>)</span><br><span class="line">                q[x][y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans=<span class="number">1</span>;</span><br><span class="line">            q[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str[x][y]==<span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(book[x][y]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            book[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(x,y+<span class="number">1</span>);</span><br><span class="line">            book[x][y]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">                e[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans==<span class="number">1</span>)</span><br><span class="line">                q[x][y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans=<span class="number">1</span>;</span><br><span class="line">            q[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(str[x][y]==<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(book[x][y]==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            book[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="built_in">dfs</span>(x,y<span class="number">-1</span>);</span><br><span class="line">            book[x][y]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag==<span class="number">1</span>)</span><br><span class="line">                e[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(ans==<span class="number">1</span>)</span><br><span class="line">                q[x][y]=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans=<span class="number">1</span>;</span><br><span class="line">            q[x][y]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,str[i]+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>; j&lt;=m; j++)</span><br><span class="line">        &#123;<span class="comment">//如果dfs函数里没写book[x][y]=0的话，这里就要memset(book,0,sizeof(book)); 因为没查找一个点之后都要清0，但是我们利用dfs的回溯给清0了  所以这里就不需要再用memset函数了，也省下了一些时间</span></span><br><span class="line">            flag=<span class="number">0</span>;<span class="comment">//记得开关清0</span></span><br><span class="line">            ans=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(q[i][j]==<span class="number">1</span>)<span class="comment">//这个点出不去直接找下一个点</span></span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(e[i][j]==<span class="number">1</span>)<span class="comment">//能出去就直接加 不需要跑dfs</span></span><br><span class="line">                sum++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">dfs</span>(i,j);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://sun-dawn.github.io/2020/10/26/2020%E5%B0%8F%E7%B1%B3%E7%BD%91%E7%BB%9C%E9%80%89%E6%8B%94%E8%B5%9BI%20Walking%20Machine/" data-id="ckp9sq7oe0002ostnemkx8qpo" data-title="2020小米网络选拔赛I Walking Machine" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/DP/">DP</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/DP/%E8%AE%B0%E5%BF%86%E5%8C%96%E6%90%9C%E7%B4%A2/">记忆化搜索</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E4%BA%8C%E5%88%86/">二分</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/">图论</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/%E4%BA%8C%E5%88%86%E5%9B%BE/">二分图</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%9B%BE%E8%AE%BA/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%80%9D%E7%BB%B4/">思维</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/">搜索</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/BFS/">BFS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%90%9C%E7%B4%A2/DFS/">DFS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%89%8D%E7%BC%80%E5%92%8C%E5%B7%AE%E5%88%86/">前缀和差分</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%A0%86/">堆</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%88/">栈</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E6%A0%91/">树</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%95%B0%E8%AE%BA/">数论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%9A%B4%E5%8A%9B/">暴力</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E6%A8%A1%E6%8B%9F/">模拟</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E8%AE%B0%E5%BD%95/">记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E8%B4%AA%E5%BF%83/">贪心</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BC%80%E5%8F%91/">面向对象开发</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/05/29/J%20-%20JOJO's%20Factory%20Gym%20-%20103107J%EF%BC%88%E6%80%9D%E7%BB%B4%EF%BC%89/">J - JOJO&#39;s Factory Gym - 103107J（思维）</a>
          </li>
        
          <li>
            <a href="/2021/05/29/Keep%20Eating%20Gym%20-%20103107K%EF%BC%88%E6%80%9D%E7%BB%B4%EF%BC%89/">Keep Eating Gym - 103107K（思维）</a>
          </li>
        
          <li>
            <a href="/2021/05/13/%E6%95%B0%E7%8B%AC%E6%B8%B8%E6%88%8F/">数独游戏</a>
          </li>
        
          <li>
            <a href="/2021/04/28/leeing%20Sunlight%20Gym%20-%20103061F/">leeing Sunlight Gym - 103061F</a>
          </li>
        
          <li>
            <a href="/2021/04/26/L2-040%20%E5%93%B2%E5%93%B2%E6%89%93%E6%B8%B8%E6%88%8F%20(25%20%E5%88%86)/">L2-040 哲哲打游戏 (25 分)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Sun-Dawn<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>